(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[103],{1297:function(e,r,t){Promise.resolve().then(t.bind(t,8881))},8881:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return a}});var i=t(7573),n=t(7653),o=t(4250),s=t(1695),l=t(3518);function a(){let{user:e,userTier:r,loading:t}=(0,o.a)(),[a,d]=(0,n.useState)([]),[c,m]=(0,n.useState)([]),[g,p]=(0,n.useState)(!0),[h,f]=(0,n.useState)("all"),[u,x]=(0,n.useState)("all"),[y,b]=(0,n.useState)(""),[j,v]=(0,n.useState)(null),w=(0,s.useRouter)(),C=(0,n.useCallback)(async()=>{try{let e=await fetch("/api/prompts?tier=".concat(r)),t=await e.json();d(t.prompts||[])}catch(e){console.error("Failed to fetch prompts:",e)}finally{p(!1)}},[r]),_=(0,n.useCallback)(()=>{let e=a;"all"!==h&&(e=e.filter(e=>e.cognitive_category===h)),"all"!==u&&(e=e.filter(e=>e.difficulty_tier===u)),y&&(e=e.filter(e=>e.title.toLowerCase().includes(y.toLowerCase())||e.preview_content.toLowerCase().includes(y.toLowerCase())||e.meaning_layers.some(e=>e.toLowerCase().includes(y.toLowerCase())))),m(e)},[a,h,u,y]);(0,n.useEffect)(()=>{if(!t&&!e){w.push("/auth");return}e&&C()},[e,t,w,C]),(0,n.useEffect)(()=>{a.length>0&&_()},[a,_]);let S=e=>{switch(e){case"deep_analysis":return"#8b5cf6";case"meaning_engineering":return"#3b82f6";case"cognitive_frameworks":return"#10b981";case"consciousness_mapping":return"#f59e0b";case"advanced_systems":return"#ef4444";default:return"#6b7280"}},k=e=>{switch(e){case"foundation":return"#10b981";case"advanced":return"#3b82f6";case"expert":return"#8b5cf6";case"architect":return"#f59e0b";default:return"#6b7280"}},z=e=>(["free","architect","initiate","elite"].indexOf(r),"free"===r)?.1:"architect"===r?.4:"initiate"===r?.7:"elite"===r?1:.2,W=e=>{let r=z(e),t=e.preview_content.split(" "),i=Math.floor(t.length*r);return t.slice(0,i).join(" ")},R=e=>{v(e)},B=()=>{v(null)},T=()=>{w.push("/pricing")};return t?(0,i.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f8fafc"},children:(0,i.jsx)("div",{children:"Loading your cognitive library..."})}):e?(0,i.jsx)(l.Z,{children:(0,i.jsx)("div",{style:{minHeight:"100vh",backgroundColor:"#f8fafc",padding:"2rem"},children:(0,i.jsxs)("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",padding:"1.5rem",backgroundColor:"white",borderRadius:"1rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"#374151",marginBottom:"0.5rem"},children:"\uD83E\uDDE0 Cognitive Library"}),(0,i.jsxs)("p",{style:{fontSize:"1.125rem",color:"#6b7280"},children:["Access ",c.length," cognitive frameworks based on your ",r," tier"]})]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,i.jsxs)("div",{style:{padding:"0.5rem 1rem",backgroundColor:S(r),color:"white",borderRadius:"2rem",fontSize:"0.875rem",fontWeight:"600",textTransform:"uppercase"},children:[r," Tier"]}),(0,i.jsx)("button",{onClick:T,style:{padding:"0.75rem 1.5rem",backgroundColor:"#8b5cf6",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#7c3aed",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#8b5cf6",children:"Upgrade Tier"})]})]}),(0,i.jsx)("div",{style:{padding:"1.5rem",backgroundColor:"white",borderRadius:"1rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",marginBottom:"2rem"},children:(0,i.jsxs)("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"center"},children:[(0,i.jsx)("div",{style:{flex:"1",minWidth:"300px"},children:(0,i.jsx)("input",{type:"text",placeholder:"Search frameworks by title, content, or meaning layers...",value:y,onChange:e=>b(e.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #e5e7eb",borderRadius:"0.5rem",fontSize:"1rem",outline:"none"}})}),(0,i.jsx)("select",{value:h,onChange:e=>f(e.target.value),style:{padding:"0.75rem",border:"1px solid #e5e7eb",borderRadius:"0.5rem",fontSize:"1rem",outline:"none",minWidth:"150px"},children:["all","deep_analysis","meaning_engineering","cognitive_frameworks","consciousness_mapping","advanced_systems"].map(e=>(0,i.jsx)("option",{value:e,children:"all"===e?"All Categories":e.replace("_"," ")},e))}),(0,i.jsx)("select",{value:u,onChange:e=>x(e.target.value),style:{padding:"0.75rem",border:"1px solid #e5e7eb",borderRadius:"0.5rem",fontSize:"1rem",outline:"none",minWidth:"150px"},children:["all","foundation","advanced","expert","architect"].map(e=>(0,i.jsx)("option",{value:e,children:"all"===e?"All Difficulties":e.charAt(0).toUpperCase()+e.slice(1)},e))})]})}),g?(0,i.jsx)("div",{style:{textAlign:"center",padding:"3rem"},children:(0,i.jsx)("div",{children:"Loading cognitive frameworks..."})}):c.length>0?(0,i.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"1.5rem"},children:c.map(e=>(0,i.jsxs)("div",{onClick:()=>R(e),style:{backgroundColor:"white",borderRadius:"1rem",padding:"1.5rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",border:"1px solid #e5e7eb"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.boxShadow="0 8px 25px rgba(0, 0, 0, 0.15)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)"},children:[(0,i.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,i.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem",lineHeight:"1.3"},children:e.title}),(0,i.jsxs)("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",marginBottom:"0.5rem"},children:[(0,i.jsx)("span",{style:{padding:"0.25rem 0.5rem",backgroundColor:S(e.cognitive_category),color:"white",borderRadius:"0.5rem",fontSize:"0.75rem",fontWeight:"500"},children:e.cognitive_category.replace("_"," ")}),(0,i.jsx)("span",{style:{padding:"0.25rem 0.5rem",backgroundColor:k(e.difficulty_tier),color:"white",borderRadius:"0.5rem",fontSize:"0.75rem",fontWeight:"500"},children:e.difficulty_tier})]})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem",fontSize:"0.875rem"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{style:{color:"#6b7280"},children:"Depth: "}),(0,i.jsxs)("span",{style:{fontWeight:"600",color:"#8b5cf6"},children:[e.cognitive_depth_score,"/10"]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{style:{color:"#6b7280"},children:"Complexity: "}),(0,i.jsxs)("span",{style:{fontWeight:"600",color:"#f59e0b"},children:[e.pattern_complexity,"/5"]})]})]}),(0,i.jsx)("div",{style:{marginBottom:"1rem"},children:(0,i.jsxs)("p",{style:{color:"#6b7280",fontSize:"0.875rem",lineHeight:"1.5"},children:[W(e),1>z(e)&&(0,i.jsx)("span",{style:{color:"#8b5cf6",fontWeight:"500"},children:"... (upgrade to see more)"})]})}),(0,i.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,i.jsx)("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem",fontWeight:"500"},children:"Meaning Layers:"}),(0,i.jsxs)("div",{style:{display:"flex",gap:"0.25rem",flexWrap:"wrap"},children:[e.meaning_layers.slice(0,3).map((e,r)=>(0,i.jsx)("span",{style:{padding:"0.25rem 0.5rem",backgroundColor:"#f3f4f6",color:"#374151",borderRadius:"0.25rem",fontSize:"0.75rem"},children:e.replace("_"," ")},r)),e.meaning_layers.length>3&&(0,i.jsxs)("span",{style:{padding:"0.25rem 0.5rem",backgroundColor:"#f3f4f6",color:"#6b7280",borderRadius:"0.25rem",fontSize:"0.75rem"},children:["+",e.meaning_layers.length-3]})]})]}),(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderTop:"1px solid #e5e7eb",paddingTop:"1rem"},children:[(0,i.jsxs)("div",{style:{fontSize:"0.875rem",color:"#6b7280"},children:[(0,i.jsxs)("span",{children:["\uD83D\uDC41️ ",e.view_count," views"]}),(0,i.jsx)("span",{style:{margin:"0 0.5rem"},children:"•"}),(0,i.jsxs)("span",{children:["⭐ ",e.rating_avg.toFixed(1)]})]}),(0,i.jsx)("div",{style:{fontSize:"1rem",fontWeight:"600",color:"#8b5cf6"}})]})]},e.id))}):(0,i.jsxs)("div",{style:{textAlign:"center",padding:"3rem",backgroundColor:"white",borderRadius:"1rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[(0,i.jsx)("h3",{style:{fontSize:"1.5rem",color:"#374151",marginBottom:"1rem"},children:"No frameworks found"}),(0,i.jsx)("p",{style:{color:"#6b7280",marginBottom:"1.5rem"},children:"Try adjusting your filters or search query"}),(0,i.jsx)("button",{onClick:()=>{f("all"),x("all"),b("")},style:{padding:"0.75rem 1.5rem",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"500",cursor:"pointer"},children:"Clear Filters"})]}),j&&(0,i.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"2rem"},onClick:B,children:(0,i.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"1rem",padding:"2rem",maxWidth:"800px",maxHeight:"90vh",overflow:"auto",position:"relative"},onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("button",{onClick:B,style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#6b7280"},children:"\xd7"}),(0,i.jsx)("h2",{style:{fontSize:"2rem",fontWeight:"bold",color:"#374151",marginBottom:"1rem"},children:j.title}),(0,i.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.5rem",flexWrap:"wrap"},children:[(0,i.jsx)("span",{style:{padding:"0.5rem 1rem",backgroundColor:S(j.cognitive_category),color:"white",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:j.cognitive_category.replace("_"," ")}),(0,i.jsx)("span",{style:{padding:"0.5rem 1rem",backgroundColor:k(j.difficulty_tier),color:"white",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:j.difficulty_tier})]}),(0,i.jsx)("div",{style:{marginBottom:"2rem"},children:(0,i.jsx)("p",{style:{color:"#374151",fontSize:"1.125rem",lineHeight:"1.6"},children:z(j)>=1?j.preview_content:W(j)+"... (upgrade to see full content)"})}),z(j)>=1&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,i.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1rem"},children:"Meaning Layers"}),(0,i.jsx)("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:j.meaning_layers.map((e,r)=>(0,i.jsx)("span",{style:{padding:"0.5rem 1rem",backgroundColor:"#f3f4f6",color:"#374151",borderRadius:"0.5rem",fontSize:"0.875rem"},children:e.replace("_"," ")},r))})]}),(0,i.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,i.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1rem"},children:"Anti-Surface Features"}),(0,i.jsx)("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:j.anti_surface_features.map((e,r)=>(0,i.jsx)("span",{style:{padding:"0.5rem 1rem",backgroundColor:"#fef3c7",color:"#92400e",borderRadius:"0.5rem",fontSize:"0.875rem"},children:e.replace("_"," ")},r))})]})]}),(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderTop:"1px solid #e5e7eb",paddingTop:"1.5rem"},children:[(0,i.jsxs)("div",{style:{fontSize:"0.875rem",color:"#6b7280"},children:[(0,i.jsxs)("span",{children:["\uD83D\uDC41️ ",j.view_count," views"]}),(0,i.jsx)("span",{style:{margin:"0 0.5rem"},children:"•"}),(0,i.jsxs)("span",{children:["⭐ ",j.rating_avg.toFixed(1)," rating"]})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[1>z(j)&&(0,i.jsx)("button",{onClick:T,style:{padding:"0.75rem 1.5rem",backgroundColor:"#8b5cf6",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer"},children:"Upgrade to Access Full Content"}),(0,i.jsx)("div",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#8b5cf6"}})]})]})]})})]})})}):null}}},function(e){e.O(0,[940,518,293,528,744],function(){return e(e.s=1297)}),_N_E=e.O()}]);