(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{4540:function(e,r,t){Promise.resolve().then(t.t.bind(t,2740,23)),Promise.resolve().then(t.t.bind(t,5646,23)),Promise.resolve().then(t.bind(t,9271)),Promise.resolve().then(t.bind(t,7422)),Promise.resolve().then(t.bind(t,7662)),Promise.resolve().then(t.bind(t,4250))},9271:function(e,r,t){"use strict";t.d(r,{default:function(){return s}});var o=t(7573),n=t(7653),i=t(7200);function s(){let[e,r]=(0,n.useState)(!1),[t,s]=(0,n.useState)(!1),[a,l]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=localStorage.getItem("cookie-consent");if(e){let r=JSON.parse(e);s(r.analytics||!1),l(r.marketing||!1)}else r(!0)},[]);let c=()=>{window.gtag?(window.gtag("consent","update",{analytics_storage:"granted"}),i.kg.info("Analytics cookies enabled")):i.kg.info("Analytics service not available")},d=()=>{window.gtag?(window.gtag("consent","update",{ad_storage:"granted",ad_user_data:"granted",ad_personalization:"granted"}),i.kg.info("Marketing cookies enabled")):i.kg.info("Marketing service not available")};return e?(0,o.jsx)("div",{style:{position:"fixed",bottom:0,left:0,right:0,backgroundColor:"white",borderTop:"1px solid #e5e7eb",padding:"1.5rem",boxShadow:"0 -4px 6px rgba(0, 0, 0, 0.1)",zIndex:1e3},children:(0,o.jsx)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"\uD83C\uDF6A Cookie Preferences"}),(0,o.jsx)("p",{style:{fontSize:"0.875rem",color:"#6b7280",lineHeight:"1.5"},children:"We use cookies to enhance your experience, analyze site traffic, and personalize content. You can choose which types of cookies to allow below."})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",marginBottom:"1rem"},children:[(0,o.jsxs)("div",{style:{padding:"1rem",border:"1px solid #e5e7eb",borderRadius:"0.5rem",backgroundColor:"#f9fafb"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"0.5rem"},children:[(0,o.jsx)("div",{style:{width:"20px",height:"20px",backgroundColor:"#10b981",borderRadius:"50%",marginRight:"0.5rem"}}),(0,o.jsx)("strong",{style:{fontSize:"0.875rem"},children:"Essential Cookies"})]}),(0,o.jsx)("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:"Required for basic site functionality. Cannot be disabled."})]}),(0,o.jsxs)("div",{style:{padding:"1rem",border:"1px solid #e5e7eb",borderRadius:"0.5rem",backgroundColor:"#f9fafb"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"0.5rem"},children:[(0,o.jsx)("input",{type:"checkbox",id:"analytics",checked:t,onChange:e=>s(e.target.checked),style:{marginRight:"0.5rem"}}),(0,o.jsx)("label",{htmlFor:"analytics",style:{fontSize:"0.875rem",fontWeight:"500"},children:"Analytics Cookies"})]}),(0,o.jsx)("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:"Help us understand how visitors interact with our website."})]}),(0,o.jsxs)("div",{style:{padding:"1rem",border:"1px solid #e5e7eb",borderRadius:"0.5rem",backgroundColor:"#f9fafb"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"0.5rem"},children:[(0,o.jsx)("input",{type:"checkbox",id:"marketing",checked:a,onChange:e=>l(e.target.checked),style:{marginRight:"0.5rem"}}),(0,o.jsx)("label",{htmlFor:"marketing",style:{fontSize:"0.875rem",fontWeight:"500"},children:"Marketing Cookies"})]}),(0,o.jsx)("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:"Used to deliver personalized content and advertisements."})]})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",justifyContent:"flex-end"},children:[(0,o.jsx)("button",{onClick:()=>{let e={analytics:!1,marketing:!1,timestamp:new Date().toISOString()};localStorage.setItem("cookie-consent",JSON.stringify(e)),s(!1),l(!1),r(!1)},style:{padding:"0.75rem 1.5rem",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer"},children:"Reject All"}),(0,o.jsx)("button",{onClick:()=>{let e={analytics:t,marketing:a,timestamp:new Date().toISOString()};localStorage.setItem("cookie-consent",JSON.stringify(e)),r(!1),t&&c(),a&&d()},style:{padding:"0.75rem 1.5rem",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer"},children:"Accept Selected"}),(0,o.jsx)("button",{onClick:()=>{let e={analytics:!0,marketing:!0,timestamp:new Date().toISOString()};localStorage.setItem("cookie-consent",JSON.stringify(e)),s(!0),l(!0),r(!1),c(),d()},style:{padding:"0.75rem 1.5rem",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer"},children:"Accept All"})]}),(0,o.jsx)("div",{style:{textAlign:"center"},children:(0,o.jsxs)("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:["By continuing to use our site, you agree to our"," ",(0,o.jsx)("a",{href:"/privacy",style:{color:"#3b82f6",textDecoration:"underline"},children:"Privacy Policy"})," ","and"," ",(0,o.jsx)("a",{href:"/terms",style:{color:"#3b82f6",textDecoration:"underline"},children:"Terms of Service"}),"."]})})]})})}):null}},7422:function(e,r,t){"use strict";t.d(r,{default:function(){return a}});var o=t(7573),n=t(8146),i=t(4250),s=t(1695);function a(){let{user:e,userTier:r,signOut:t}=(0,i.a)(),a=(0,s.useRouter)(),l=async()=>{await t(),a.push("/")};return(0,o.jsx)("nav",{style:{backgroundColor:"white",borderBottom:"1px solid #e5e7eb",padding:"1rem 0",position:"sticky",top:0,zIndex:50,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:(0,o.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 1.5rem"},children:[(0,o.jsx)(n.default,{href:"/",style:{fontSize:"1.5rem",fontWeight:"bold",color:"#1a1a1a",textDecoration:"none"},children:"AI-Prompt-Templates"}),(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"2rem"},children:[(0,o.jsx)(n.default,{href:"/library",style:{color:"#374151",textDecoration:"none",fontSize:"1rem",fontWeight:"500",transition:"color 0.2s"},onMouseOver:e=>e.currentTarget.style.color="#3b82f6",onMouseOut:e=>e.currentTarget.style.color="#374151",children:"Library"}),(0,o.jsx)(n.default,{href:"/pricing",style:{color:"#374151",textDecoration:"none",fontSize:"1rem",fontWeight:"500",transition:"color 0.2s"},onMouseOver:e=>e.currentTarget.style.color="#3b82f6",onMouseOut:e=>e.currentTarget.style.color="#374151",children:"Pricing"}),e?(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[r&&(0,o.jsx)("span",{style:{padding:"0.25rem 0.75rem",backgroundColor:"elite"===r?"#f59e0b":"initiate"===r?"#8b5cf6":"architect"===r?"#3b82f6":"#10b981",color:"white",borderRadius:"1rem",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase"},children:"elite"===r?"Elite":"initiate"===r?"Initiate":"architect"===r?"Architect":"Free"}),(0,o.jsx)(n.default,{href:"/dashboard",style:{color:"#374151",textDecoration:"none",fontSize:"1rem",fontWeight:"500",transition:"color 0.2s"},onMouseOver:e=>e.currentTarget.style.color="#3b82f6",onMouseOut:e=>e.currentTarget.style.color="#374151",children:"Dashboard"}),(0,o.jsx)("button",{onClick:l,style:{padding:"0.5rem 1rem",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#dc2626",onMouseOut:e=>e.currentTarget.style.backgroundColor="#ef4444",children:"Sign Out"})]}):(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,o.jsx)(n.default,{href:"/auth",style:{color:"#374151",textDecoration:"none",fontSize:"1rem",fontWeight:"500",transition:"color 0.2s"},onMouseOver:e=>e.currentTarget.style.color="#3b82f6",onMouseOut:e=>e.currentTarget.style.color="#374151",children:"Sign In"}),(0,o.jsx)(n.default,{href:"/auth",style:{padding:"0.5rem 1rem",backgroundColor:"#3b82f6",color:"white",textDecoration:"none",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:"500",transition:"background-color 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#2563eb",onMouseOut:e=>e.currentTarget.style.backgroundColor="#3b82f6",children:"Get Started"})]})]})]})})}},7662:function(e,r,t){"use strict";t.d(r,{Provider:function(){return n}});var o=t(7573);function n(e){let{children:r}=e;return(0,o.jsx)("div",{className:"min-h-screen bg-background text-foreground",children:r})}},4250:function(e,r,t){"use strict";t.d(r,{AuthProvider:function(){return c},a:function(){return d}});var o=t(7573),n=t(7653),i=t(6940);t(4859);let s=()=>(0,i.createClientComponentClient)();var a=t(7200);let l=(0,n.createContext)(void 0);function c(e){let{children:r}=e,[t,i]=(0,n.useState)(null),[c,d]=(0,n.useState)(!0),[u,g]=(0,n.useState)("free"),f=s(),m=(0,n.useCallback)(async e=>{try{let{data:r,error:t}=await f.from("user_subscriptions").select("tier, status").eq("user_id",e).eq("status","active").single();t||!r?(a.kg.info("User has no active subscription, defaulting to free tier",{userId:e}),g("free")):(a.kg.info("User tier retrieved successfully",{userId:e,tier:r.tier}),g(r.tier))}catch(r){(0,a.H)("Error getting user tier",{userId:e,error:r instanceof Error?r.message:"Unknown error"}),g("free")}},[f]);(0,n.useEffect)(()=>{(async()=>{try{let{data:{session:r},error:t}=await f.auth.getSession();if(t)(0,a.H)("Error getting session",{error:t.message});else{var e;i(null!==(e=null==r?void 0:r.user)&&void 0!==e?e:null),(null==r?void 0:r.user)&&await m(r.user.id)}}catch(e){(0,a.H)("Session error",{error:e instanceof Error?e.message:"Unknown error"})}finally{d(!1)}})();let{data:{subscription:e}}=f.auth.onAuthStateChange(async(e,r)=>{var t,o;a.kg.info("Auth state changed",{event:e,userEmail:(null==r?void 0:null===(t=r.user)||void 0===t?void 0:t.email)?r.user.email.substring(0,3)+"***@"+r.user.email.split("@")[1]:"none"}),i(null!==(o=null==r?void 0:r.user)&&void 0!==o?o:null),(null==r?void 0:r.user)?await m(r.user.id):g("free"),d(!1)});return()=>e.unsubscribe()},[m,f.auth]);let h=async(e,r)=>{try{var t;let{data:o,error:n}=await f.auth.signInWithPassword({email:e,password:r});if(n)return(0,a.H)("Sign in failed",{email:e.substring(0,3)+"***@"+e.split("@")[1],error:n.message}),{error:n.message};return a.kg.info("User signed in successfully",{userId:null===(t=o.user)||void 0===t?void 0:t.id,email:e.substring(0,3)+"***@"+e.split("@")[1]}),{}}catch(r){return(0,a.H)("Unexpected error during sign in",{email:e.substring(0,3)+"***@"+e.split("@")[1],error:r instanceof Error?r.message:"Unknown error"}),{error:"An unexpected error occurred"}}},p=async(e,r)=>{try{var t;let{data:o,error:n}=await f.auth.signUp({email:e,password:r});if(n)return(0,a.H)("Sign up failed",{email:e.substring(0,3)+"***@"+e.split("@")[1],error:n.message}),{error:n.message};if(o.user&&!o.user.email_confirmed_at)return a.kg.info("User signup successful, email confirmation required",{userId:o.user.id,email:e.substring(0,3)+"***@"+e.split("@")[1]}),{error:"Please check your email to confirm your account"};return a.kg.info("User signup successful",{userId:null===(t=o.user)||void 0===t?void 0:t.id,email:e.substring(0,3)+"***@"+e.split("@")[1]}),{}}catch(r){return(0,a.H)("Unexpected error during sign up",{email:e.substring(0,3)+"***@"+e.split("@")[1],error:r instanceof Error?r.message:"Unknown error"}),{error:"An unexpected error occurred"}}},b=async()=>{try{let{error:e}=await f.auth.signOut();e?(0,a.H)("Sign out error",{error:e.message}):a.kg.info("User signed out successfully",{userId:null==t?void 0:t.id,email:(null==t?void 0:t.email)?t.email.substring(0,3)+"***@"+t.email.split("@")[1]:"unknown"})}catch(e){(0,a.H)("Sign out error",{error:e instanceof Error?e.message:"Unknown error"})}},y=async()=>{t&&await m(t.id)};return(0,o.jsx)(l.Provider,{value:{user:t,loading:c,userTier:u,signIn:h,signUp:p,signOut:b,refreshUserTier:y},children:r})}let d=()=>{let e=(0,n.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},7200:function(e,r,t){"use strict";var o,n;t.d(r,{H:function(){return a},PN:function(){return c},kg:function(){return s},yN:function(){return l}}),(n=o||(o={})).ERROR="error",n.WARN="warn",n.INFO="info",n.DEBUG="debug";class i{shouldLog(e){return!!this.isDevelopment||!this.isProduction||"error"===e||"warn"===e}formatMessage(e){let r=e.timestamp,t=e.level.toUpperCase(),o=e.message,n=e.context?" | Context: ".concat(JSON.stringify(e.context)):"",i=e.error?" | Error: ".concat(e.error.message):"";return"[".concat(r,"] ").concat(t,": ").concat(o).concat(n).concat(i)}addToBuffer(e){this.logBuffer.push(e),this.logBuffer.length>this.maxBufferSize&&this.logBuffer.shift()}async sendToExternalService(e){if(this.isProduction&&"error"===e.level)try{await fetch("/api/logs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(e){console.error("Failed to send log to external service:",e)}}error(e,r,t){let o={level:"error",message:e,timestamp:new Date().toISOString(),context:r,error:t};this.addToBuffer(o),this.shouldLog("error")&&console.error(this.formatMessage(o)),this.sendToExternalService(o)}warn(e,r){let t={level:"warn",message:e,timestamp:new Date().toISOString(),context:r};this.addToBuffer(t),this.shouldLog("warn")&&console.warn(this.formatMessage(t))}info(e,r){let t={level:"info",message:e,timestamp:new Date().toISOString(),context:r};this.addToBuffer(t),this.shouldLog("info")&&console.info(this.formatMessage(t))}debug(e,r){let t={level:"debug",message:e,timestamp:new Date().toISOString(),context:r};this.addToBuffer(t),this.shouldLog("debug")&&console.debug(this.formatMessage(t))}security(e,r){let t={level:"warn",message:"SECURITY: ".concat(e),timestamp:new Date().toISOString(),context:r};this.addToBuffer(t),console.warn(this.formatMessage(t)),this.sendToExternalService(t)}performance(e,r,t){let o={level:"info",message:"PERFORMANCE: ".concat(e," took ").concat(r,"ms"),timestamp:new Date().toISOString(),context:t};this.addToBuffer(o),this.shouldLog("info")&&console.info(this.formatMessage(o))}getLogs(e){return e?this.logBuffer.filter(r=>r.level===e):[...this.logBuffer]}clearLogs(){this.logBuffer=[]}exportLogs(){return this.logBuffer.map(e=>this.formatMessage(e)).join("\n")}constructor(){this.isDevelopment=!1,this.isProduction=!0,this.logBuffer=[],this.maxBufferSize=100}}let s=new i,a=(e,r,t)=>s.error(e,r,t),l=(e,r)=>s.warn(e,r),c=(e,r)=>s.info(e,r)},5646:function(){}},function(e){e.O(0,[452,940,5,293,528,744],function(){return e(e.s=4540)}),_N_E=e.O()}]);