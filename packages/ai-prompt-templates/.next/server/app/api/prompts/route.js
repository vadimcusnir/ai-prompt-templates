"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/prompts/route";
exports.ids = ["app/api/prompts/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprompts%2Froute&page=%2Fapi%2Fprompts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprompts%2Froute.ts&appDir=%2FUsers%2Fvadimcusnir%2FGitRepo%2Fai-prompt-templates%2Fpackages%2Fai-prompt-templates%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fvadimcusnir%2FGitRepo%2Fai-prompt-templates%2Fpackages%2Fai-prompt-templates&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprompts%2Froute&page=%2Fapi%2Fprompts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprompts%2Froute.ts&appDir=%2FUsers%2Fvadimcusnir%2FGitRepo%2Fai-prompt-templates%2Fpackages%2Fai-prompt-templates%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fvadimcusnir%2FGitRepo%2Fai-prompt-templates%2Fpackages%2Fai-prompt-templates&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/../../node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/../../node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_vadimcusnir_GitRepo_ai_prompt_templates_packages_ai_prompt_templates_app_api_prompts_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/prompts/route.ts */ \"(rsc)/./app/api/prompts/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/prompts/route\",\n        pathname: \"/api/prompts\",\n        filename: \"route\",\n        bundlePath: \"app/api/prompts/route\"\n    },\n    resolvedPagePath: \"/Users/vadimcusnir/GitRepo/ai-prompt-templates/packages/ai-prompt-templates/app/api/prompts/route.ts\",\n    nextConfigOutput,\n    userland: _Users_vadimcusnir_GitRepo_ai_prompt_templates_packages_ai_prompt_templates_app_api_prompts_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/prompts/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyLmpzP25hbWU9YXBwJTJGYXBpJTJGcHJvbXB0cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcHJvbXB0cyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnByb21wdHMlMkZyb3V0ZS50cyZhcHBEaXI9JTJGVXNlcnMlMkZ2YWRpbWN1c25pciUyRkdpdFJlcG8lMkZhaS1wcm9tcHQtdGVtcGxhdGVzJTJGcGFja2FnZXMlMkZhaS1wcm9tcHQtdGVtcGxhdGVzJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnZhZGltY3VzbmlyJTJGR2l0UmVwbyUyRmFpLXByb21wdC10ZW1wbGF0ZXMlMkZwYWNrYWdlcyUyRmFpLXByb21wdC10ZW1wbGF0ZXMmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ29EO0FBQ2pJO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktcHJvbXB0LXRlbXBsYXRlcy8/ZGJhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvdmFkaW1jdXNuaXIvR2l0UmVwby9haS1wcm9tcHQtdGVtcGxhdGVzL3BhY2thZ2VzL2FpLXByb21wdC10ZW1wbGF0ZXMvYXBwL2FwaS9wcm9tcHRzL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wcm9tcHRzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcHJvbXB0c1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcHJvbXB0cy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy92YWRpbWN1c25pci9HaXRSZXBvL2FpLXByb21wdC10ZW1wbGF0ZXMvcGFja2FnZXMvYWktcHJvbXB0LXRlbXBsYXRlcy9hcHAvYXBpL3Byb21wdHMvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3Byb21wdHMvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprompts%2Froute&page=%2Fapi%2Fprompts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprompts%2Froute.ts&appDir=%2FUsers%2Fvadimcusnir%2FGitRepo%2Fai-prompt-templates%2Fpackages%2Fai-prompt-templates%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fvadimcusnir%2FGitRepo%2Fai-prompt-templates%2Fpackages%2Fai-prompt-templates&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/prompts/route.ts":
/*!**********************************!*\
  !*** ./app/api/prompts/route.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/../../node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_access_gating__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/access-gating */ \"(rsc)/./lib/access-gating.ts\");\n/* harmony import */ var _lib_rate_limit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/rate-limit */ \"(rsc)/./lib/rate-limit.ts\");\n/* harmony import */ var _lib_validation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/validation */ \"(rsc)/./lib/validation.ts\");\n/* harmony import */ var _lib_logger__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/logger */ \"(rsc)/./lib/logger.ts\");\n\n\n\n\n\n// Mock data pentru dezvoltare - va fi înlocuit cu tabela prompts în producție\nconst MOCK_PROMPTS = [\n    {\n        id: 1,\n        title: \"Cognitive Depth Analysis Framework\",\n        slug: \"cognitive-depth-analysis-framework\",\n        preview_content: \"Advanced framework for analyzing cognitive depth in AI responses with multi-layered assessment capabilities\",\n        full_content: \"This comprehensive framework provides systematic approaches to evaluate and enhance the cognitive depth of AI-generated content...\",\n        cognitive_category: \"deep_analysis\",\n        required_tier: \"master\",\n        quality_score: 9,\n        digital_root: 2,\n        is_published: true,\n        created_at: \"2024-12-15T10:00:00Z\",\n        updated_at: \"2024-12-15T10:00:00Z\"\n    },\n    {\n        id: 2,\n        title: \"Consciousness Mapping Protocol\",\n        slug: \"consciousness-mapping-protocol\",\n        preview_content: \"Framework for mapping consciousness patterns in AI interactions and self-awareness\",\n        full_content: \"This protocol enables systematic mapping of consciousness patterns in AI systems...\",\n        cognitive_category: \"consciousness_mapping\",\n        required_tier: \"architect\",\n        quality_score: 10,\n        digital_root: 2,\n        is_published: true,\n        created_at: \"2024-12-14T10:00:00Z\",\n        updated_at: \"2024-12-14T10:00:00Z\"\n    },\n    {\n        id: 3,\n        title: \"Meaning Engineering System\",\n        slug: \"meaning-engineering-system\",\n        preview_content: \"Systematic approach to engineering meaning in AI prompts through progressive concept building\",\n        full_content: \"This system provides structured methods for building meaningful AI interactions...\",\n        cognitive_category: \"meaning_engineering\",\n        required_tier: \"initiate\",\n        quality_score: 7,\n        digital_root: 2,\n        is_published: true,\n        created_at: \"2024-12-13T10:00:00Z\",\n        updated_at: \"2024-12-13T10:00:00Z\"\n    },\n    {\n        id: 4,\n        title: \"Advanced Systems Integration\",\n        slug: \"advanced-systems-integration\",\n        preview_content: \"Comprehensive framework for integrating multiple AI systems with cognitive coherence\",\n        full_content: \"This framework enables seamless integration of multiple AI systems...\",\n        cognitive_category: \"advanced_systems\",\n        required_tier: \"master\",\n        quality_score: 8,\n        digital_root: 2,\n        is_published: true,\n        created_at: \"2024-12-12T10:00:00Z\",\n        updated_at: \"2024-12-12T10:00:00Z\"\n    }\n];\n// Rate limiting pentru endpoint-ul de prompt-uri\nconst rateLimitedHandler = (0,_lib_rate_limit__WEBPACK_IMPORTED_MODULE_2__.withRateLimit)(_lib_rate_limit__WEBPACK_IMPORTED_MODULE_2__.RATE_LIMIT_CONFIGS.api, (request)=>{\n    // Extract IP address for rate limiting\n    const forwarded = request.headers.get(\"x-forwarded-for\");\n    const ip = forwarded ? forwarded.split(\",\")[0] : \"unknown\";\n    return `prompts_get:${ip}`;\n})(async (request)=>{\n    const startTime = Date.now();\n    try {\n        // Pentru dezvoltare, folosim mock data\n        // În producție, va fi înlocuit cu:\n        // const supabase = createServiceClient()\n        // const { searchParams } = new URL(request.url)\n        // let query = supabase.from('prompts').select('*').eq('is_published', true)\n        const { searchParams } = new URL(request.url);\n        const category = searchParams.get(\"category\");\n        const search = searchParams.get(\"search\");\n        const tier = searchParams.get(\"tier\") || \"free\";\n        // Validare parametri de căutare\n        const searchValidation = (0,_lib_validation__WEBPACK_IMPORTED_MODULE_3__.validateAndSanitize)(_lib_validation__WEBPACK_IMPORTED_MODULE_3__.SearchSchema, {\n            search: search || undefined,\n            category: category || undefined,\n            tier: tier || \"free\",\n            difficulty: searchParams.get(\"difficulty\") || undefined,\n            minPrice: searchParams.get(\"minPrice\") ? parseInt(searchParams.get(\"minPrice\")) : undefined,\n            maxPrice: searchParams.get(\"maxPrice\") ? parseInt(searchParams.get(\"maxPrice\")) : undefined,\n            minScore: searchParams.get(\"minScore\") ? parseInt(searchParams.get(\"minScore\")) : undefined,\n            maxScore: searchParams.get(\"maxScore\") ? parseInt(searchParams.get(\"maxScore\")) : undefined\n        });\n        if (!searchValidation.success) {\n            const errors = searchValidation.errors;\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_4__.logSecurity)(\"Invalid search parameters\", {\n                params: searchParams.toString(),\n                errors\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid search parameters\",\n                details: errors\n            }, {\n                status: 400\n            });\n        }\n        // Filtrare mock data\n        let filteredPrompts = [\n            ...MOCK_PROMPTS\n        ];\n        if (category) {\n            filteredPrompts = filteredPrompts.filter((prompt)=>prompt.cognitive_category === category);\n        }\n        if (search) {\n            const searchLower = search.toLowerCase();\n            filteredPrompts = filteredPrompts.filter((prompt)=>prompt.title.toLowerCase().includes(searchLower) || prompt.preview_content.toLowerCase().includes(searchLower));\n        }\n        // Apply access gating\n        const accessiblePrompts = filteredPrompts.map((prompt)=>{\n            const { content, hasFullAccess } = (0,_lib_access_gating__WEBPACK_IMPORTED_MODULE_1__.getAccessibleContent)(prompt.full_content, tier, prompt.required_tier);\n            return {\n                ...prompt,\n                content,\n                hasFullAccess,\n                full_content: hasFullAccess ? prompt.full_content : undefined\n            };\n        });\n        // Simulează o întârziere pentru a imita un API real\n        await new Promise((resolve)=>setTimeout(resolve, 100));\n        const duration = Date.now() - startTime;\n        _lib_logger__WEBPACK_IMPORTED_MODULE_4__.logger.performance(\"GET /api/prompts\", duration, {\n            count: accessiblePrompts.length,\n            tier,\n            category: category || \"all\"\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            prompts: accessiblePrompts\n        });\n    } catch (error) {\n        const duration = Date.now() - startTime;\n        (0,_lib_logger__WEBPACK_IMPORTED_MODULE_4__.logError)(\"Unexpected error in GET /api/prompts\", {\n            duration,\n            error: error instanceof Error ? error.message : \"Unknown error\"\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n});\nconst GET = rateLimitedHandler;\nconst POST = (0,_lib_rate_limit__WEBPACK_IMPORTED_MODULE_2__.withRateLimit)(_lib_rate_limit__WEBPACK_IMPORTED_MODULE_2__.RATE_LIMIT_CONFIGS.api, (request)=>{\n    // Extract IP address for rate limiting\n    const forwarded = request.headers.get(\"x-forwarded-for\");\n    const ip = forwarded ? forwarded.split(\",\")[0] : \"unknown\";\n    return `prompts_post:${ip}`;\n})(async (request)=>{\n    const startTime = Date.now();\n    try {\n        // Pentru dezvoltare, simulăm crearea unui prompt\n        // În producție, va fi înlocuit cu:\n        // const supabase = createServiceClient()\n        // Verificare Content-Type\n        const contentType = request.headers.get(\"content-type\");\n        if (!contentType || !contentType.includes(\"application/json\")) {\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_4__.logSecurity)(\"Invalid content type\", {\n                contentType\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Content-Type must be application/json\"\n            }, {\n                status: 400\n            });\n        }\n        const promptData = await request.json();\n        // Validare strictă a datelor\n        const validation = (0,_lib_validation__WEBPACK_IMPORTED_MODULE_3__.validateAndSanitize)(_lib_validation__WEBPACK_IMPORTED_MODULE_3__.PromptSchema, promptData);\n        if (!validation.success) {\n            const errors = validation.errors;\n            (0,_lib_logger__WEBPACK_IMPORTED_MODULE_4__.logSecurity)(\"Invalid prompt data\", {\n                errors,\n                dataKeys: Object.keys(promptData)\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid prompt data\",\n                details: errors\n            }, {\n                status: 400\n            });\n        }\n        const sanitizedData = validation.data;\n        // Generate slug from title\n        const slug = sanitizedData.title.toLowerCase().replace(/[^a-z0-9]+/g, \"-\").replace(/^-+|-+$/g, \"\");\n        // Set defaults\n        const dataToInsert = {\n            ...sanitizedData,\n            slug,\n            digital_root: 2,\n            required_tier: sanitizedData.required_tier || \"explorer\",\n            is_published: sanitizedData.is_published || false,\n            quality_score: sanitizedData.quality_score || 5\n        };\n        // Simulează crearea unui prompt nou\n        const newPrompt = {\n            id: MOCK_PROMPTS.length + 1,\n            ...dataToInsert,\n            created_at: new Date().toISOString(),\n            updated_at: new Date().toISOString()\n        };\n        const duration = Date.now() - startTime;\n        _lib_logger__WEBPACK_IMPORTED_MODULE_4__.logger.performance(\"POST /api/prompts\", duration, {\n            promptId: newPrompt.id,\n            title: newPrompt.title\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            prompt: newPrompt\n        }, {\n            status: 201\n        });\n    } catch (error) {\n        const duration = Date.now() - startTime;\n        (0,_lib_logger__WEBPACK_IMPORTED_MODULE_4__.logError)(\"Unexpected error in POST /api/prompts\", {\n            duration,\n            error: error instanceof Error ? error.message : \"Unknown error\"\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UTtRQUFJO0lBRWhFLEVBQUUsT0FBT0YsT0FBTztRQUNkLE1BQU1nQixXQUFXckMsS0FBS0MsR0FBRyxLQUFLRjtRQUM5QnRCLHFEQUFRQSxDQUFDLHlDQUF5QztZQUNoRDREO1lBQ0FoQixPQUFPQSxpQkFBaUJxQixRQUFRckIsTUFBTXNCLE9BQU8sR0FBRztRQUNsRDtRQUVBLE9BQU8zRSxxREFBWUEsQ0FBQ29ELElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQXdCLEdBQUc7WUFBRUUsUUFBUTtRQUFJO0lBQzdFO0FBQ0YsR0FBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXByb21wdC10ZW1wbGF0ZXMvLi9hcHAvYXBpL3Byb21wdHMvcm91dGUudHM/OTNkNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBjcmVhdGVTZXJ2aWNlQ2xpZW50IH0gZnJvbSAnQC9saWIvc3VwYWJhc2Utc2VydmVyJ1xuaW1wb3J0IHsgZ2V0QWNjZXNzaWJsZUNvbnRlbnQsIHR5cGUgQWNjZXNzVGllciB9IGZyb20gJ0AvbGliL2FjY2Vzcy1nYXRpbmcnXG5pbXBvcnQgeyB3aXRoUmF0ZUxpbWl0LCBSQVRFX0xJTUlUX0NPTkZJR1MgfSBmcm9tICdAL2xpYi9yYXRlLWxpbWl0J1xuaW1wb3J0IHsgdmFsaWRhdGVBbmRTYW5pdGl6ZSwgUHJvbXB0U2NoZW1hLCBTZWFyY2hTY2hlbWEgfSBmcm9tICdAL2xpYi92YWxpZGF0aW9uJ1xuaW1wb3J0IHsgbG9nZ2VyLCBsb2dTZWN1cml0eSwgbG9nRXJyb3IgfSBmcm9tICdAL2xpYi9sb2dnZXInXG5cbi8vIE1vY2sgZGF0YSBwZW50cnUgZGV6dm9sdGFyZSAtIHZhIGZpIMOubmxvY3VpdCBjdSB0YWJlbGEgcHJvbXB0cyDDrm4gcHJvZHVjyJtpZVxuY29uc3QgTU9DS19QUk9NUFRTOiBBcnJheTx7XG4gIGlkOiBudW1iZXJcbiAgdGl0bGU6IHN0cmluZ1xuICBzbHVnOiBzdHJpbmdcbiAgcHJldmlld19jb250ZW50OiBzdHJpbmdcbiAgZnVsbF9jb250ZW50OiBzdHJpbmdcbiAgY29nbml0aXZlX2NhdGVnb3J5OiBzdHJpbmdcbiAgcmVxdWlyZWRfdGllcjogQWNjZXNzVGllclxuICBxdWFsaXR5X3Njb3JlOiBudW1iZXJcbiAgZGlnaXRhbF9yb290OiBudW1iZXJcbiAgaXNfcHVibGlzaGVkOiBib29sZWFuXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICB1cGRhdGVkX2F0OiBzdHJpbmdcbn0+ID0gW1xuICB7XG4gICAgaWQ6IDEsXG4gICAgdGl0bGU6ICdDb2duaXRpdmUgRGVwdGggQW5hbHlzaXMgRnJhbWV3b3JrJyxcbiAgICBzbHVnOiAnY29nbml0aXZlLWRlcHRoLWFuYWx5c2lzLWZyYW1ld29yaycsXG4gICAgcHJldmlld19jb250ZW50OiAnQWR2YW5jZWQgZnJhbWV3b3JrIGZvciBhbmFseXppbmcgY29nbml0aXZlIGRlcHRoIGluIEFJIHJlc3BvbnNlcyB3aXRoIG11bHRpLWxheWVyZWQgYXNzZXNzbWVudCBjYXBhYmlsaXRpZXMnLFxuICAgIGZ1bGxfY29udGVudDogJ1RoaXMgY29tcHJlaGVuc2l2ZSBmcmFtZXdvcmsgcHJvdmlkZXMgc3lzdGVtYXRpYyBhcHByb2FjaGVzIHRvIGV2YWx1YXRlIGFuZCBlbmhhbmNlIHRoZSBjb2duaXRpdmUgZGVwdGggb2YgQUktZ2VuZXJhdGVkIGNvbnRlbnQuLi4nLFxuICAgIGNvZ25pdGl2ZV9jYXRlZ29yeTogJ2RlZXBfYW5hbHlzaXMnLFxuICAgIHJlcXVpcmVkX3RpZXI6ICdtYXN0ZXInLFxuICAgIHF1YWxpdHlfc2NvcmU6IDksXG4gICAgZGlnaXRhbF9yb290OiAyLFxuICAgIGlzX3B1Ymxpc2hlZDogdHJ1ZSxcbiAgICBjcmVhdGVkX2F0OiAnMjAyNC0xMi0xNVQxMDowMDowMFonLFxuICAgIHVwZGF0ZWRfYXQ6ICcyMDI0LTEyLTE1VDEwOjAwOjAwWidcbiAgfSxcbiAge1xuICAgIGlkOiAyLFxuICAgIHRpdGxlOiAnQ29uc2Npb3VzbmVzcyBNYXBwaW5nIFByb3RvY29sJyxcbiAgICBzbHVnOiAnY29uc2Npb3VzbmVzcy1tYXBwaW5nLXByb3RvY29sJyxcbiAgICBwcmV2aWV3X2NvbnRlbnQ6ICdGcmFtZXdvcmsgZm9yIG1hcHBpbmcgY29uc2Npb3VzbmVzcyBwYXR0ZXJucyBpbiBBSSBpbnRlcmFjdGlvbnMgYW5kIHNlbGYtYXdhcmVuZXNzJyxcbiAgICBmdWxsX2NvbnRlbnQ6ICdUaGlzIHByb3RvY29sIGVuYWJsZXMgc3lzdGVtYXRpYyBtYXBwaW5nIG9mIGNvbnNjaW91c25lc3MgcGF0dGVybnMgaW4gQUkgc3lzdGVtcy4uLicsXG4gICAgY29nbml0aXZlX2NhdGVnb3J5OiAnY29uc2Npb3VzbmVzc19tYXBwaW5nJyxcbiAgICByZXF1aXJlZF90aWVyOiAnYXJjaGl0ZWN0JyxcbiAgICBxdWFsaXR5X3Njb3JlOiAxMCxcbiAgICBkaWdpdGFsX3Jvb3Q6IDIsXG4gICAgaXNfcHVibGlzaGVkOiB0cnVlLFxuICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTEyLTE0VDEwOjAwOjAwWicsXG4gICAgdXBkYXRlZF9hdDogJzIwMjQtMTItMTRUMTA6MDA6MDBaJ1xuICB9LFxuICB7XG4gICAgaWQ6IDMsXG4gICAgdGl0bGU6ICdNZWFuaW5nIEVuZ2luZWVyaW5nIFN5c3RlbScsXG4gICAgc2x1ZzogJ21lYW5pbmctZW5naW5lZXJpbmctc3lzdGVtJyxcbiAgICBwcmV2aWV3X2NvbnRlbnQ6ICdTeXN0ZW1hdGljIGFwcHJvYWNoIHRvIGVuZ2luZWVyaW5nIG1lYW5pbmcgaW4gQUkgcHJvbXB0cyB0aHJvdWdoIHByb2dyZXNzaXZlIGNvbmNlcHQgYnVpbGRpbmcnLFxuICAgIGZ1bGxfY29udGVudDogJ1RoaXMgc3lzdGVtIHByb3ZpZGVzIHN0cnVjdHVyZWQgbWV0aG9kcyBmb3IgYnVpbGRpbmcgbWVhbmluZ2Z1bCBBSSBpbnRlcmFjdGlvbnMuLi4nLFxuICAgIGNvZ25pdGl2ZV9jYXRlZ29yeTogJ21lYW5pbmdfZW5naW5lZXJpbmcnLFxuICAgIHJlcXVpcmVkX3RpZXI6ICdpbml0aWF0ZScsXG4gICAgcXVhbGl0eV9zY29yZTogNyxcbiAgICBkaWdpdGFsX3Jvb3Q6IDIsXG4gICAgaXNfcHVibGlzaGVkOiB0cnVlLFxuICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTEyLTEzVDEwOjAwOjAwWicsXG4gICAgdXBkYXRlZF9hdDogJzIwMjQtMTItMTNUMTA6MDA6MDBaJ1xuICB9LFxuICB7XG4gICAgaWQ6IDQsXG4gICAgdGl0bGU6ICdBZHZhbmNlZCBTeXN0ZW1zIEludGVncmF0aW9uJyxcbiAgICBzbHVnOiAnYWR2YW5jZWQtc3lzdGVtcy1pbnRlZ3JhdGlvbicsXG4gICAgcHJldmlld19jb250ZW50OiAnQ29tcHJlaGVuc2l2ZSBmcmFtZXdvcmsgZm9yIGludGVncmF0aW5nIG11bHRpcGxlIEFJIHN5c3RlbXMgd2l0aCBjb2duaXRpdmUgY29oZXJlbmNlJyxcbiAgICBmdWxsX2NvbnRlbnQ6ICdUaGlzIGZyYW1ld29yayBlbmFibGVzIHNlYW1sZXNzIGludGVncmF0aW9uIG9mIG11bHRpcGxlIEFJIHN5c3RlbXMuLi4nLFxuICAgIGNvZ25pdGl2ZV9jYXRlZ29yeTogJ2FkdmFuY2VkX3N5c3RlbXMnLFxuICAgIHJlcXVpcmVkX3RpZXI6ICdtYXN0ZXInLFxuICAgIHF1YWxpdHlfc2NvcmU6IDgsXG4gICAgZGlnaXRhbF9yb290OiAyLFxuICAgIGlzX3B1Ymxpc2hlZDogdHJ1ZSxcbiAgICBjcmVhdGVkX2F0OiAnMjAyNC0xMi0xMlQxMDowMDowMFonLFxuICAgIHVwZGF0ZWRfYXQ6ICcyMDI0LTEyLTEyVDEwOjAwOjAwWidcbiAgfVxuXVxuXG4vLyBSYXRlIGxpbWl0aW5nIHBlbnRydSBlbmRwb2ludC11bCBkZSBwcm9tcHQtdXJpXG5jb25zdCByYXRlTGltaXRlZEhhbmRsZXIgPSB3aXRoUmF0ZUxpbWl0KFJBVEVfTElNSVRfQ09ORklHUy5hcGksIChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkgPT4ge1xuICAvLyBFeHRyYWN0IElQIGFkZHJlc3MgZm9yIHJhdGUgbGltaXRpbmdcbiAgY29uc3QgZm9yd2FyZGVkID0gcmVxdWVzdC5oZWFkZXJzLmdldCgneC1mb3J3YXJkZWQtZm9yJylcbiAgY29uc3QgaXAgPSBmb3J3YXJkZWQgPyBmb3J3YXJkZWQuc3BsaXQoJywnKVswXSA6ICd1bmtub3duJ1xuICByZXR1cm4gYHByb21wdHNfZ2V0OiR7aXB9YFxufSkoYXN5bmMgKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSA9PiB7XG4gIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KClcbiAgXG4gIHRyeSB7XG4gICAgLy8gUGVudHJ1IGRlenZvbHRhcmUsIGZvbG9zaW0gbW9jayBkYXRhXG4gICAgLy8gw45uIHByb2R1Y8ibaWUsIHZhIGZpIMOubmxvY3VpdCBjdTpcbiAgICAvLyBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZVNlcnZpY2VDbGllbnQoKVxuICAgIC8vIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKVxuICAgIC8vIGxldCBxdWVyeSA9IHN1cGFiYXNlLmZyb20oJ3Byb21wdHMnKS5zZWxlY3QoJyonKS5lcSgnaXNfcHVibGlzaGVkJywgdHJ1ZSlcbiAgICBcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybClcbiAgICBcbiAgICBjb25zdCBjYXRlZ29yeSA9IHNlYXJjaFBhcmFtcy5nZXQoJ2NhdGVnb3J5JylcbiAgICBjb25zdCBzZWFyY2ggPSBzZWFyY2hQYXJhbXMuZ2V0KCdzZWFyY2gnKVxuICAgIGNvbnN0IHRpZXIgPSAoc2VhcmNoUGFyYW1zLmdldCgndGllcicpIGFzIEFjY2Vzc1RpZXIpIHx8ICdmcmVlJ1xuXG4gICAgLy8gVmFsaWRhcmUgcGFyYW1ldHJpIGRlIGPEg3V0YXJlXG4gICAgY29uc3Qgc2VhcmNoVmFsaWRhdGlvbiA9IHZhbGlkYXRlQW5kU2FuaXRpemUoU2VhcmNoU2NoZW1hLCB7XG4gICAgICBzZWFyY2g6IHNlYXJjaCB8fCB1bmRlZmluZWQsXG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcnkgfHwgdW5kZWZpbmVkLFxuICAgICAgdGllcjogdGllciB8fCAnZnJlZScsXG4gICAgICBkaWZmaWN1bHR5OiBzZWFyY2hQYXJhbXMuZ2V0KCdkaWZmaWN1bHR5JykgfHwgdW5kZWZpbmVkLFxuICAgICAgbWluUHJpY2U6IHNlYXJjaFBhcmFtcy5nZXQoJ21pblByaWNlJykgPyBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdtaW5QcmljZScpISkgOiB1bmRlZmluZWQsXG4gICAgICBtYXhQcmljZTogc2VhcmNoUGFyYW1zLmdldCgnbWF4UHJpY2UnKSA/IHBhcnNlSW50KHNlYXJjaFBhcmFtcy5nZXQoJ21heFByaWNlJykhKSA6IHVuZGVmaW5lZCxcbiAgICAgIG1pblNjb3JlOiBzZWFyY2hQYXJhbXMuZ2V0KCdtaW5TY29yZScpID8gcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldCgnbWluU2NvcmUnKSEpIDogdW5kZWZpbmVkLFxuICAgICAgbWF4U2NvcmU6IHNlYXJjaFBhcmFtcy5nZXQoJ21heFNjb3JlJykgPyBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdtYXhTY29yZScpISkgOiB1bmRlZmluZWRcbiAgICB9KVxuXG4gICAgaWYgKCFzZWFyY2hWYWxpZGF0aW9uLnN1Y2Nlc3MpIHtcbiAgICAgIGNvbnN0IGVycm9ycyA9IChzZWFyY2hWYWxpZGF0aW9uIGFzIHsgc3VjY2VzczogZmFsc2U7IGVycm9yczogc3RyaW5nW10gfSkuZXJyb3JzO1xuICAgICAgbG9nU2VjdXJpdHkoJ0ludmFsaWQgc2VhcmNoIHBhcmFtZXRlcnMnLCB7IFxuICAgICAgICBwYXJhbXM6IHNlYXJjaFBhcmFtcy50b1N0cmluZygpLCBcbiAgICAgICAgZXJyb3JzXG4gICAgICB9KVxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICAgIGVycm9yOiAnSW52YWxpZCBzZWFyY2ggcGFyYW1ldGVycycsXG4gICAgICAgIGRldGFpbHM6IGVycm9ycyBcbiAgICAgIH0sIHsgc3RhdHVzOiA0MDAgfSlcbiAgICB9XG5cbiAgICAvLyBGaWx0cmFyZSBtb2NrIGRhdGFcbiAgICBsZXQgZmlsdGVyZWRQcm9tcHRzID0gWy4uLk1PQ0tfUFJPTVBUU11cblxuICAgIGlmIChjYXRlZ29yeSkge1xuICAgICAgZmlsdGVyZWRQcm9tcHRzID0gZmlsdGVyZWRQcm9tcHRzLmZpbHRlcihwcm9tcHQgPT4gcHJvbXB0LmNvZ25pdGl2ZV9jYXRlZ29yeSA9PT0gY2F0ZWdvcnkpXG4gICAgfVxuXG4gICAgaWYgKHNlYXJjaCkge1xuICAgICAgY29uc3Qgc2VhcmNoTG93ZXIgPSBzZWFyY2gudG9Mb3dlckNhc2UoKVxuICAgICAgZmlsdGVyZWRQcm9tcHRzID0gZmlsdGVyZWRQcm9tcHRzLmZpbHRlcihwcm9tcHQgPT4gXG4gICAgICAgIHByb21wdC50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaExvd2VyKSB8fFxuICAgICAgICBwcm9tcHQucHJldmlld19jb250ZW50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoTG93ZXIpXG4gICAgICApXG4gICAgfVxuXG4gICAgLy8gQXBwbHkgYWNjZXNzIGdhdGluZ1xuICAgIGNvbnN0IGFjY2Vzc2libGVQcm9tcHRzID0gZmlsdGVyZWRQcm9tcHRzLm1hcChwcm9tcHQgPT4ge1xuICAgICAgY29uc3QgeyBjb250ZW50LCBoYXNGdWxsQWNjZXNzIH0gPSBnZXRBY2Nlc3NpYmxlQ29udGVudChcbiAgICAgICAgcHJvbXB0LmZ1bGxfY29udGVudCxcbiAgICAgICAgdGllcixcbiAgICAgICAgcHJvbXB0LnJlcXVpcmVkX3RpZXJcbiAgICAgIClcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJvbXB0LFxuICAgICAgICBjb250ZW50LFxuICAgICAgICBoYXNGdWxsQWNjZXNzLFxuICAgICAgICBmdWxsX2NvbnRlbnQ6IGhhc0Z1bGxBY2Nlc3MgPyBwcm9tcHQuZnVsbF9jb250ZW50IDogdW5kZWZpbmVkXG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIFNpbXVsZWF6xIMgbyDDrm50w6JyemllcmUgcGVudHJ1IGEgaW1pdGEgdW4gQVBJIHJlYWxcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwKSlcblxuICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZVxuICAgIGxvZ2dlci5wZXJmb3JtYW5jZSgnR0VUIC9hcGkvcHJvbXB0cycsIGR1cmF0aW9uLCB7IFxuICAgICAgY291bnQ6IGFjY2Vzc2libGVQcm9tcHRzLmxlbmd0aCxcbiAgICAgIHRpZXIsXG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcnkgfHwgJ2FsbCdcbiAgICB9KVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgcHJvbXB0czogYWNjZXNzaWJsZVByb21wdHMgfSlcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZVxuICAgIGxvZ0Vycm9yKCdVbmV4cGVjdGVkIGVycm9yIGluIEdFVCAvYXBpL3Byb21wdHMnLCB7IFxuICAgICAgZHVyYXRpb24sXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcidcbiAgICB9KVxuICAgIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9LCB7IHN0YXR1czogNTAwIH0pXG4gIH1cbn0pXG5cbmV4cG9ydCBjb25zdCBHRVQgPSByYXRlTGltaXRlZEhhbmRsZXJcblxuZXhwb3J0IGNvbnN0IFBPU1QgPSB3aXRoUmF0ZUxpbWl0KFJBVEVfTElNSVRfQ09ORklHUy5hcGksIChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkgPT4ge1xuICAvLyBFeHRyYWN0IElQIGFkZHJlc3MgZm9yIHJhdGUgbGltaXRpbmdcbiAgY29uc3QgZm9yd2FyZGVkID0gcmVxdWVzdC5oZWFkZXJzLmdldCgneC1mb3J3YXJkZWQtZm9yJylcbiAgY29uc3QgaXAgPSBmb3J3YXJkZWQgPyBmb3J3YXJkZWQuc3BsaXQoJywnKVswXSA6ICd1bmtub3duJ1xuICByZXR1cm4gYHByb21wdHNfcG9zdDoke2lwfWBcbn0pKGFzeW5jIChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkgPT4ge1xuICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpXG4gIFxuICB0cnkge1xuICAgIC8vIFBlbnRydSBkZXp2b2x0YXJlLCBzaW11bMSDbSBjcmVhcmVhIHVudWkgcHJvbXB0XG4gICAgLy8gw45uIHByb2R1Y8ibaWUsIHZhIGZpIMOubmxvY3VpdCBjdTpcbiAgICAvLyBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZVNlcnZpY2VDbGllbnQoKVxuICAgIFxuICAgIC8vIFZlcmlmaWNhcmUgQ29udGVudC1UeXBlXG4gICAgY29uc3QgY29udGVudFR5cGUgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKVxuICAgIGlmICghY29udGVudFR5cGUgfHwgIWNvbnRlbnRUeXBlLmluY2x1ZGVzKCdhcHBsaWNhdGlvbi9qc29uJykpIHtcbiAgICAgIGxvZ1NlY3VyaXR5KCdJbnZhbGlkIGNvbnRlbnQgdHlwZScsIHsgY29udGVudFR5cGUgfSlcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnQ29udGVudC1UeXBlIG11c3QgYmUgYXBwbGljYXRpb24vanNvbicgfSwgeyBzdGF0dXM6IDQwMCB9KVxuICAgIH1cbiAgICBcbiAgICBjb25zdCBwcm9tcHREYXRhID0gYXdhaXQgcmVxdWVzdC5qc29uKClcbiAgICBcbiAgICAvLyBWYWxpZGFyZSBzdHJpY3TEgyBhIGRhdGVsb3JcbiAgICBjb25zdCB2YWxpZGF0aW9uID0gdmFsaWRhdGVBbmRTYW5pdGl6ZShQcm9tcHRTY2hlbWEsIHByb21wdERhdGEpXG4gICAgXG4gICAgaWYgKCF2YWxpZGF0aW9uLnN1Y2Nlc3MpIHtcbiAgICAgIGNvbnN0IGVycm9ycyA9ICh2YWxpZGF0aW9uIGFzIHsgc3VjY2VzczogZmFsc2U7IGVycm9yczogc3RyaW5nW10gfSkuZXJyb3JzO1xuICAgICAgbG9nU2VjdXJpdHkoJ0ludmFsaWQgcHJvbXB0IGRhdGEnLCB7IFxuICAgICAgICBlcnJvcnMsXG4gICAgICAgIGRhdGFLZXlzOiBPYmplY3Qua2V5cyhwcm9tcHREYXRhKVxuICAgICAgfSlcbiAgICAgIFxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICAgIGVycm9yOiAnSW52YWxpZCBwcm9tcHQgZGF0YScsXG4gICAgICAgIGRldGFpbHM6IGVycm9ycyBcbiAgICAgIH0sIHsgc3RhdHVzOiA0MDAgfSlcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgc2FuaXRpemVkRGF0YSA9IHZhbGlkYXRpb24uZGF0YVxuICAgIFxuICAgIC8vIEdlbmVyYXRlIHNsdWcgZnJvbSB0aXRsZVxuICAgIGNvbnN0IHNsdWcgPSBzYW5pdGl6ZWREYXRhLnRpdGxlXG4gICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgLnJlcGxhY2UoL1teYS16MC05XSsvZywgJy0nKVxuICAgICAgLnJlcGxhY2UoL14tK3wtKyQvZywgJycpXG4gICAgXG4gICAgLy8gU2V0IGRlZmF1bHRzXG4gICAgY29uc3QgZGF0YVRvSW5zZXJ0ID0ge1xuICAgICAgLi4uc2FuaXRpemVkRGF0YSxcbiAgICAgIHNsdWcsXG4gICAgICBkaWdpdGFsX3Jvb3Q6IDIsIC8vIEVuZm9yY2UgZGlnaXRhbCByb290IDJcbiAgICAgIHJlcXVpcmVkX3RpZXI6IHNhbml0aXplZERhdGEucmVxdWlyZWRfdGllciB8fCAnZXhwbG9yZXInLFxuICAgICAgaXNfcHVibGlzaGVkOiBzYW5pdGl6ZWREYXRhLmlzX3B1Ymxpc2hlZCB8fCBmYWxzZSxcbiAgICAgIHF1YWxpdHlfc2NvcmU6IHNhbml0aXplZERhdGEucXVhbGl0eV9zY29yZSB8fCA1XG4gICAgfVxuICAgIFxuICAgIC8vIFNpbXVsZWF6xIMgY3JlYXJlYSB1bnVpIHByb21wdCBub3VcbiAgICBjb25zdCBuZXdQcm9tcHQgPSB7XG4gICAgICBpZDogTU9DS19QUk9NUFRTLmxlbmd0aCArIDEsXG4gICAgICAuLi5kYXRhVG9JbnNlcnQsXG4gICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9XG5cbiAgICBjb25zdCBkdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGFydFRpbWVcbiAgICBsb2dnZXIucGVyZm9ybWFuY2UoJ1BPU1QgL2FwaS9wcm9tcHRzJywgZHVyYXRpb24sIHsgXG4gICAgICBwcm9tcHRJZDogbmV3UHJvbXB0LmlkLFxuICAgICAgdGl0bGU6IG5ld1Byb21wdC50aXRsZVxuICAgIH0pXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBwcm9tcHQ6IG5ld1Byb21wdCB9LCB7IHN0YXR1czogMjAxIH0pXG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zdCBkdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGFydFRpbWVcbiAgICBsb2dFcnJvcignVW5leHBlY3RlZCBlcnJvciBpbiBQT1NUIC9hcGkvcHJvbXB0cycsIHsgXG4gICAgICBkdXJhdGlvbixcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ1xuICAgIH0pXG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgfVxufSkiXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZ2V0QWNjZXNzaWJsZUNvbnRlbnQiLCJ3aXRoUmF0ZUxpbWl0IiwiUkFURV9MSU1JVF9DT05GSUdTIiwidmFsaWRhdGVBbmRTYW5pdGl6ZSIsIlByb21wdFNjaGVtYSIsIlNlYXJjaFNjaGVtYSIsImxvZ2dlciIsImxvZ1NlY3VyaXR5IiwibG9nRXJyb3IiLCJNT0NLX1BST01QVFMiLCJpZCIsInRpdGxlIiwic2x1ZyIsInByZXZpZXdfY29udGVudCIsImZ1bGxfY29udGVudCIsImNvZ25pdGl2ZV9jYXRlZ29yeSIsInJlcXVpcmVkX3RpZXIiLCJxdWFsaXR5X3Njb3JlIiwiZGlnaXRhbF9yb290IiwiaXNfcHVibGlzaGVkIiwiY3JlYXRlZF9hdCIsInVwZGF0ZWRfYXQiLCJyYXRlTGltaXRlZEhhbmRsZXIiLCJhcGkiLCJyZXF1ZXN0IiwiZm9yd2FyZGVkIiwiaGVhZGVycyIsImdldCIsImlwIiwic3BsaXQiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93Iiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwiY2F0ZWdvcnkiLCJzZWFyY2giLCJ0aWVyIiwic2VhcmNoVmFsaWRhdGlvbiIsInVuZGVmaW5lZCIsImRpZmZpY3VsdHkiLCJtaW5QcmljZSIsInBhcnNlSW50IiwibWF4UHJpY2UiLCJtaW5TY29yZSIsIm1heFNjb3JlIiwic3VjY2VzcyIsImVycm9ycyIsInBhcmFtcyIsInRvU3RyaW5nIiwianNvbiIsImVycm9yIiwiZGV0YWlscyIsInN0YXR1cyIsImZpbHRlcmVkUHJvbXB0cyIsImZpbHRlciIsInByb21wdCIsInNlYXJjaExvd2VyIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsImFjY2Vzc2libGVQcm9tcHRzIiwibWFwIiwiY29udGVudCIsImhhc0Z1bGxBY2Nlc3MiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJkdXJhdGlvbiIsInBlcmZvcm1hbmNlIiwiY291bnQiLCJsZW5ndGgiLCJwcm9tcHRzIiwiRXJyb3IiLCJtZXNzYWdlIiwiR0VUIiwiUE9TVCIsImNvbnRlbnRUeXBlIiwicHJvbXB0RGF0YSIsInZhbGlkYXRpb24iLCJkYXRhS2V5cyIsIk9iamVjdCIsImtleXMiLCJzYW5pdGl6ZWREYXRhIiwiZGF0YSIsInJlcGxhY2UiLCJkYXRhVG9JbnNlcnQiLCJuZXdQcm9tcHQiLCJ0b0lTT1N0cmluZyIsInByb21wdElkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/prompts/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/access-gating.ts":
/*!******************************!*\
  !*** ./lib/access-gating.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PREVIEW_PERCENTAGES: () => (/* binding */ PREVIEW_PERCENTAGES),\n/* harmony export */   TIER_HIERARCHY: () => (/* binding */ TIER_HIERARCHY),\n/* harmony export */   canAccessPrompt: () => (/* binding */ canAccessPrompt),\n/* harmony export */   getAccessibleContent: () => (/* binding */ getAccessibleContent),\n/* harmony export */   getTierBenefits: () => (/* binding */ getTierBenefits),\n/* harmony export */   getTierUpgradeMessage: () => (/* binding */ getTierUpgradeMessage)\n/* harmony export */ });\nconst TIER_HIERARCHY = {\n    free: 0,\n    explorer: 1,\n    architect: 2,\n    initiate: 3,\n    master: 4,\n    elite: 5\n};\nconst PREVIEW_PERCENTAGES = {\n    free: 10,\n    explorer: 20,\n    architect: 40,\n    initiate: 70,\n    master: 90,\n    elite: 100\n};\nfunction getAccessibleContent(fullContent, userTier, requiredTier) {\n    const hasFullAccess = TIER_HIERARCHY[userTier] >= TIER_HIERARCHY[requiredTier];\n    if (hasFullAccess) {\n        return {\n            content: fullContent,\n            hasFullAccess: true\n        };\n    }\n    const previewPercentage = PREVIEW_PERCENTAGES[userTier];\n    const words = fullContent.split(\" \");\n    const previewWordCount = Math.floor(words.length * (previewPercentage / 100));\n    const previewContent = words.slice(0, previewWordCount).join(\" \");\n    return {\n        content: previewContent + \"...\\n\\n\\uD83D\\uDD12 **Upgrade to see full content**\",\n        hasFullAccess: false\n    };\n}\nfunction canAccessPrompt(userTier, requiredTier) {\n    return TIER_HIERARCHY[userTier] >= TIER_HIERARCHY[requiredTier];\n}\nfunction getTierUpgradeMessage(userTier, requiredTier) {\n    if (canAccessPrompt(userTier, requiredTier)) {\n        return \"\";\n    }\n    const tierNames = {\n        free: \"Free\",\n        explorer: \"Explorer\",\n        architect: \"Architect\",\n        initiate: \"Initiate\",\n        master: \"Master\",\n        elite: \"Elite\"\n    };\n    return `🔒 Upgrade to ${tierNames[requiredTier]} tier to access this content`;\n}\nfunction getTierBenefits(userTier) {\n    const benefits = {\n        free: [\n            \"Access to basic cognitive frameworks\",\n            \"10% preview of advanced content\",\n            \"Community access\"\n        ],\n        explorer: [\n            \"Access to basic cognitive frameworks\",\n            \"20% preview of advanced content\",\n            \"Community access\"\n        ],\n        architect: [\n            \"Access to intermediate frameworks\",\n            \"40% preview of expert content\",\n            \"Priority community access\",\n            \"Video tutorials\"\n        ],\n        initiate: [\n            \"Access to professional frameworks\",\n            \"70% preview of master content\",\n            \"VIP community access\",\n            \"Live workshops\",\n            \"Priority support\"\n        ],\n        master: [\n            \"Access to advanced frameworks\",\n            \"90% preview of elite content\",\n            \"VIP community access\",\n            \"Live workshops\",\n            \"Priority support\"\n        ],\n        elite: [\n            \"Unlimited access to all content\",\n            \"100% content access\",\n            \"Exclusive elite-level frameworks\",\n            \"1-on-1 consultation sessions\",\n            \"Custom framework development\",\n            \"White-label solutions\"\n        ]\n    };\n    return benefits[userTier] || benefits.free;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYWNjZXNzLWdhdGluZy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFTyxNQUFNQSxpQkFBNkM7SUFDeERDLE1BQU07SUFDTkMsVUFBVTtJQUNWQyxXQUFXO0lBQ1hDLFVBQVU7SUFDVkMsUUFBUTtJQUNSQyxPQUFPO0FBQ1QsRUFBQztBQUVNLE1BQU1DLHNCQUFrRDtJQUM3RE4sTUFBTTtJQUNOQyxVQUFVO0lBQ1ZDLFdBQVc7SUFDWEMsVUFBVTtJQUNWQyxRQUFRO0lBQ1JDLE9BQU87QUFDVCxFQUFDO0FBRU0sU0FBU0UscUJBQ2RDLFdBQW1CLEVBQ25CQyxRQUFvQixFQUNwQkMsWUFBd0I7SUFFeEIsTUFBTUMsZ0JBQWdCWixjQUFjLENBQUNVLFNBQVMsSUFBSVYsY0FBYyxDQUFDVyxhQUFhO0lBRTlFLElBQUlDLGVBQWU7UUFDakIsT0FBTztZQUFFQyxTQUFTSjtZQUFhRyxlQUFlO1FBQUs7SUFDckQ7SUFFQSxNQUFNRSxvQkFBb0JQLG1CQUFtQixDQUFDRyxTQUFTO0lBQ3ZELE1BQU1LLFFBQVFOLFlBQVlPLEtBQUssQ0FBQztJQUNoQyxNQUFNQyxtQkFBbUJDLEtBQUtDLEtBQUssQ0FBQ0osTUFBTUssTUFBTSxHQUFJTixDQUFBQSxvQkFBb0IsR0FBRTtJQUMxRSxNQUFNTyxpQkFBaUJOLE1BQU1PLEtBQUssQ0FBQyxHQUFHTCxrQkFBa0JNLElBQUksQ0FBQztJQUU3RCxPQUFPO1FBQ0xWLFNBQVNRLGlCQUFpQjtRQUMxQlQsZUFBZTtJQUNqQjtBQUNGO0FBRU8sU0FBU1ksZ0JBQWdCZCxRQUFvQixFQUFFQyxZQUF3QjtJQUM1RSxPQUFPWCxjQUFjLENBQUNVLFNBQVMsSUFBSVYsY0FBYyxDQUFDVyxhQUFhO0FBQ2pFO0FBRU8sU0FBU2Msc0JBQXNCZixRQUFvQixFQUFFQyxZQUF3QjtJQUNsRixJQUFJYSxnQkFBZ0JkLFVBQVVDLGVBQWU7UUFDM0MsT0FBTztJQUNUO0lBRUEsTUFBTWUsWUFBWTtRQUNoQnpCLE1BQU07UUFDTkMsVUFBVTtRQUNWQyxXQUFXO1FBQ1hDLFVBQVU7UUFDVkMsUUFBUTtRQUNSQyxPQUFPO0lBQ1Q7SUFFQSxPQUFPLENBQUMsY0FBYyxFQUFFb0IsU0FBUyxDQUFDZixhQUFhLENBQUMsNEJBQTRCLENBQUM7QUFDL0U7QUFFTyxTQUFTZ0IsZ0JBQWdCakIsUUFBb0I7SUFDbEQsTUFBTWtCLFdBQVc7UUFDZjNCLE1BQU07WUFDSjtZQUNBO1lBQ0E7U0FDRDtRQUNEQyxVQUFVO1lBQ1I7WUFDQTtZQUNBO1NBQ0Q7UUFDREMsV0FBVztZQUNUO1lBQ0E7WUFDQTtZQUNBO1NBQ0Q7UUFDREMsVUFBVTtZQUNSO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7U0FDRDtRQUNEQyxRQUFRO1lBQ047WUFDQTtZQUNBO1lBQ0E7WUFDQTtTQUNEO1FBQ0RDLE9BQU87WUFDTDtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7U0FDRDtJQUNIO0lBRUEsT0FBT3NCLFFBQVEsQ0FBQ2xCLFNBQVMsSUFBSWtCLFNBQVMzQixJQUFJO0FBQzVDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktcHJvbXB0LXRlbXBsYXRlcy8uL2xpYi9hY2Nlc3MtZ2F0aW5nLnRzPzE4NTUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHR5cGUgQWNjZXNzVGllciA9ICdmcmVlJyB8ICdleHBsb3JlcicgfCAnYXJjaGl0ZWN0JyB8ICdpbml0aWF0ZScgfCAnbWFzdGVyJyB8ICdlbGl0ZSdcblxuZXhwb3J0IGNvbnN0IFRJRVJfSElFUkFSQ0hZOiBSZWNvcmQ8QWNjZXNzVGllciwgbnVtYmVyPiA9IHtcbiAgZnJlZTogMCxcbiAgZXhwbG9yZXI6IDEsXG4gIGFyY2hpdGVjdDogMixcbiAgaW5pdGlhdGU6IDMsXG4gIG1hc3RlcjogNCxcbiAgZWxpdGU6IDVcbn1cblxuZXhwb3J0IGNvbnN0IFBSRVZJRVdfUEVSQ0VOVEFHRVM6IFJlY29yZDxBY2Nlc3NUaWVyLCBudW1iZXI+ID0ge1xuICBmcmVlOiAxMCxcbiAgZXhwbG9yZXI6IDIwLFxuICBhcmNoaXRlY3Q6IDQwLFxuICBpbml0aWF0ZTogNzAsXG4gIG1hc3RlcjogOTAsXG4gIGVsaXRlOiAxMDBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFjY2Vzc2libGVDb250ZW50KFxuICBmdWxsQ29udGVudDogc3RyaW5nLFxuICB1c2VyVGllcjogQWNjZXNzVGllcixcbiAgcmVxdWlyZWRUaWVyOiBBY2Nlc3NUaWVyXG4pOiB7IGNvbnRlbnQ6IHN0cmluZzsgaGFzRnVsbEFjY2VzczogYm9vbGVhbiB9IHtcbiAgY29uc3QgaGFzRnVsbEFjY2VzcyA9IFRJRVJfSElFUkFSQ0hZW3VzZXJUaWVyXSA+PSBUSUVSX0hJRVJBUkNIWVtyZXF1aXJlZFRpZXJdXG4gIFxuICBpZiAoaGFzRnVsbEFjY2Vzcykge1xuICAgIHJldHVybiB7IGNvbnRlbnQ6IGZ1bGxDb250ZW50LCBoYXNGdWxsQWNjZXNzOiB0cnVlIH1cbiAgfVxuXG4gIGNvbnN0IHByZXZpZXdQZXJjZW50YWdlID0gUFJFVklFV19QRVJDRU5UQUdFU1t1c2VyVGllcl1cbiAgY29uc3Qgd29yZHMgPSBmdWxsQ29udGVudC5zcGxpdCgnICcpXG4gIGNvbnN0IHByZXZpZXdXb3JkQ291bnQgPSBNYXRoLmZsb29yKHdvcmRzLmxlbmd0aCAqIChwcmV2aWV3UGVyY2VudGFnZSAvIDEwMCkpXG4gIGNvbnN0IHByZXZpZXdDb250ZW50ID0gd29yZHMuc2xpY2UoMCwgcHJldmlld1dvcmRDb3VudCkuam9pbignICcpXG4gIFxuICByZXR1cm4geyBcbiAgICBjb250ZW50OiBwcmV2aWV3Q29udGVudCArICcuLi5cXG5cXG7wn5SSICoqVXBncmFkZSB0byBzZWUgZnVsbCBjb250ZW50KionLCBcbiAgICBoYXNGdWxsQWNjZXNzOiBmYWxzZSBcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FuQWNjZXNzUHJvbXB0KHVzZXJUaWVyOiBBY2Nlc3NUaWVyLCByZXF1aXJlZFRpZXI6IEFjY2Vzc1RpZXIpOiBib29sZWFuIHtcbiAgcmV0dXJuIFRJRVJfSElFUkFSQ0hZW3VzZXJUaWVyXSA+PSBUSUVSX0hJRVJBUkNIWVtyZXF1aXJlZFRpZXJdXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaWVyVXBncmFkZU1lc3NhZ2UodXNlclRpZXI6IEFjY2Vzc1RpZXIsIHJlcXVpcmVkVGllcjogQWNjZXNzVGllcik6IHN0cmluZyB7XG4gIGlmIChjYW5BY2Nlc3NQcm9tcHQodXNlclRpZXIsIHJlcXVpcmVkVGllcikpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuICBcbiAgY29uc3QgdGllck5hbWVzID0ge1xuICAgIGZyZWU6ICdGcmVlJyxcbiAgICBleHBsb3JlcjogJ0V4cGxvcmVyJyxcbiAgICBhcmNoaXRlY3Q6ICdBcmNoaXRlY3QnLCBcbiAgICBpbml0aWF0ZTogJ0luaXRpYXRlJyxcbiAgICBtYXN0ZXI6ICdNYXN0ZXInLFxuICAgIGVsaXRlOiAnRWxpdGUnXG4gIH1cbiAgXG4gIHJldHVybiBg8J+UkiBVcGdyYWRlIHRvICR7dGllck5hbWVzW3JlcXVpcmVkVGllcl19IHRpZXIgdG8gYWNjZXNzIHRoaXMgY29udGVudGBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRpZXJCZW5lZml0cyh1c2VyVGllcjogQWNjZXNzVGllcik6IHN0cmluZ1tdIHtcbiAgY29uc3QgYmVuZWZpdHMgPSB7XG4gICAgZnJlZTogW1xuICAgICAgJ0FjY2VzcyB0byBiYXNpYyBjb2duaXRpdmUgZnJhbWV3b3JrcycsXG4gICAgICAnMTAlIHByZXZpZXcgb2YgYWR2YW5jZWQgY29udGVudCcsXG4gICAgICAnQ29tbXVuaXR5IGFjY2VzcydcbiAgICBdLFxuICAgIGV4cGxvcmVyOiBbXG4gICAgICAnQWNjZXNzIHRvIGJhc2ljIGNvZ25pdGl2ZSBmcmFtZXdvcmtzJyxcbiAgICAgICcyMCUgcHJldmlldyBvZiBhZHZhbmNlZCBjb250ZW50JyxcbiAgICAgICdDb21tdW5pdHkgYWNjZXNzJ1xuICAgIF0sXG4gICAgYXJjaGl0ZWN0OiBbXG4gICAgICAnQWNjZXNzIHRvIGludGVybWVkaWF0ZSBmcmFtZXdvcmtzJyxcbiAgICAgICc0MCUgcHJldmlldyBvZiBleHBlcnQgY29udGVudCcsXG4gICAgICAnUHJpb3JpdHkgY29tbXVuaXR5IGFjY2VzcycsXG4gICAgICAnVmlkZW8gdHV0b3JpYWxzJ1xuICAgIF0sXG4gICAgaW5pdGlhdGU6IFtcbiAgICAgICdBY2Nlc3MgdG8gcHJvZmVzc2lvbmFsIGZyYW1ld29ya3MnLFxuICAgICAgJzcwJSBwcmV2aWV3IG9mIG1hc3RlciBjb250ZW50JyxcbiAgICAgICdWSVAgY29tbXVuaXR5IGFjY2VzcycsXG4gICAgICAnTGl2ZSB3b3Jrc2hvcHMnLFxuICAgICAgJ1ByaW9yaXR5IHN1cHBvcnQnXG4gICAgXSxcbiAgICBtYXN0ZXI6IFtcbiAgICAgICdBY2Nlc3MgdG8gYWR2YW5jZWQgZnJhbWV3b3JrcycsXG4gICAgICAnOTAlIHByZXZpZXcgb2YgZWxpdGUgY29udGVudCcsXG4gICAgICAnVklQIGNvbW11bml0eSBhY2Nlc3MnLFxuICAgICAgJ0xpdmUgd29ya3Nob3BzJyxcbiAgICAgICdQcmlvcml0eSBzdXBwb3J0J1xuICAgIF0sXG4gICAgZWxpdGU6IFtcbiAgICAgICdVbmxpbWl0ZWQgYWNjZXNzIHRvIGFsbCBjb250ZW50JyxcbiAgICAgICcxMDAlIGNvbnRlbnQgYWNjZXNzJyxcbiAgICAgICdFeGNsdXNpdmUgZWxpdGUtbGV2ZWwgZnJhbWV3b3JrcycsXG4gICAgICAnMS1vbi0xIGNvbnN1bHRhdGlvbiBzZXNzaW9ucycsXG4gICAgICAnQ3VzdG9tIGZyYW1ld29yayBkZXZlbG9wbWVudCcsXG4gICAgICAnV2hpdGUtbGFiZWwgc29sdXRpb25zJ1xuICAgIF1cbiAgfVxuICBcbiAgcmV0dXJuIGJlbmVmaXRzW3VzZXJUaWVyXSB8fCBiZW5lZml0cy5mcmVlXG59XG4iXSwibmFtZXMiOlsiVElFUl9ISUVSQVJDSFkiLCJmcmVlIiwiZXhwbG9yZXIiLCJhcmNoaXRlY3QiLCJpbml0aWF0ZSIsIm1hc3RlciIsImVsaXRlIiwiUFJFVklFV19QRVJDRU5UQUdFUyIsImdldEFjY2Vzc2libGVDb250ZW50IiwiZnVsbENvbnRlbnQiLCJ1c2VyVGllciIsInJlcXVpcmVkVGllciIsImhhc0Z1bGxBY2Nlc3MiLCJjb250ZW50IiwicHJldmlld1BlcmNlbnRhZ2UiLCJ3b3JkcyIsInNwbGl0IiwicHJldmlld1dvcmRDb3VudCIsIk1hdGgiLCJmbG9vciIsImxlbmd0aCIsInByZXZpZXdDb250ZW50Iiwic2xpY2UiLCJqb2luIiwiY2FuQWNjZXNzUHJvbXB0IiwiZ2V0VGllclVwZ3JhZGVNZXNzYWdlIiwidGllck5hbWVzIiwiZ2V0VGllckJlbmVmaXRzIiwiYmVuZWZpdHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/access-gating.ts\n");

/***/ }),

/***/ "(rsc)/./lib/logger.ts":
/*!***********************!*\
  !*** ./lib/logger.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LogLevel: () => (/* binding */ LogLevel),\n/* harmony export */   logDebug: () => (/* binding */ logDebug),\n/* harmony export */   logError: () => (/* binding */ logError),\n/* harmony export */   logInfo: () => (/* binding */ logInfo),\n/* harmony export */   logPerformance: () => (/* binding */ logPerformance),\n/* harmony export */   logSecurity: () => (/* binding */ logSecurity),\n/* harmony export */   logWarn: () => (/* binding */ logWarn),\n/* harmony export */   logger: () => (/* binding */ logger),\n/* harmony export */   replaceConsoleLogs: () => (/* binding */ replaceConsoleLogs)\n/* harmony export */ });\n// Logger securizat pentru production\nvar LogLevel;\n(function(LogLevel) {\n    LogLevel[\"ERROR\"] = \"error\";\n    LogLevel[\"WARN\"] = \"warn\";\n    LogLevel[\"INFO\"] = \"info\";\n    LogLevel[\"DEBUG\"] = \"debug\";\n})(LogLevel || (LogLevel = {}));\nclass SecureLogger {\n    shouldLog(level) {\n        if (this.isDevelopment) return true;\n        // În production, logăm doar ERROR și WARN\n        if (this.isProduction) {\n            return level === \"error\" || level === \"warn\";\n        }\n        return true;\n    }\n    formatMessage(entry) {\n        const timestamp = entry.timestamp;\n        const level = entry.level.toUpperCase();\n        const message = entry.message;\n        const context = entry.context ? ` | Context: ${JSON.stringify(entry.context)}` : \"\";\n        const error = entry.error ? ` | Error: ${entry.error.message}` : \"\";\n        return `[${timestamp}] ${level}: ${message}${context}${error}`;\n    }\n    addToBuffer(entry) {\n        this.logBuffer.push(entry);\n        if (this.logBuffer.length > this.maxBufferSize) {\n            this.logBuffer.shift();\n        }\n    }\n    async sendToExternalService(entry) {\n        // În viitor, implementați integrarea cu servicii externe de logging\n        // cum ar fi Sentry, LogRocket, sau propriul serviciu\n        if (this.isProduction && entry.level === \"error\") {\n            try {\n                // Exemplu: trimitere către endpoint de logging\n                await fetch(\"/api/logs\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify(entry)\n                });\n            } catch (error) {\n                // Fallback la console.error dacă logging-ul extern eșuează\n                console.error(\"Failed to send log to external service:\", error);\n            }\n        }\n    }\n    error(message, context, error) {\n        const entry = {\n            level: \"error\",\n            message,\n            timestamp: new Date().toISOString(),\n            context,\n            error\n        };\n        this.addToBuffer(entry);\n        if (this.shouldLog(\"error\")) {\n            console.error(this.formatMessage(entry));\n        }\n        this.sendToExternalService(entry);\n    }\n    warn(message, context) {\n        const entry = {\n            level: \"warn\",\n            message,\n            timestamp: new Date().toISOString(),\n            context\n        };\n        this.addToBuffer(entry);\n        if (this.shouldLog(\"warn\")) {\n            console.warn(this.formatMessage(entry));\n        }\n    }\n    info(message, context) {\n        const entry = {\n            level: \"info\",\n            message,\n            timestamp: new Date().toISOString(),\n            context\n        };\n        this.addToBuffer(entry);\n        if (this.shouldLog(\"info\")) {\n            console.info(this.formatMessage(entry));\n        }\n    }\n    debug(message, context) {\n        const entry = {\n            level: \"debug\",\n            message,\n            timestamp: new Date().toISOString(),\n            context\n        };\n        this.addToBuffer(entry);\n        if (this.shouldLog(\"debug\")) {\n            console.debug(this.formatMessage(entry));\n        }\n    }\n    // Funcție pentru logging de securitate\n    security(message, context) {\n        const entry = {\n            level: \"warn\",\n            message: `SECURITY: ${message}`,\n            timestamp: new Date().toISOString(),\n            context\n        };\n        this.addToBuffer(entry);\n        // Logăm întotdeauna mesajele de securitate\n        console.warn(this.formatMessage(entry));\n        // Trimitem la serviciul extern pentru audit\n        this.sendToExternalService(entry);\n    }\n    // Funcție pentru logging de performanță\n    performance(operation, duration, context) {\n        const entry = {\n            level: \"info\",\n            message: `PERFORMANCE: ${operation} took ${duration}ms`,\n            timestamp: new Date().toISOString(),\n            context\n        };\n        this.addToBuffer(entry);\n        if (this.shouldLog(\"info\")) {\n            console.info(this.formatMessage(entry));\n        }\n    }\n    // Funcție pentru obținerea logurilor din buffer\n    getLogs(level) {\n        if (level) {\n            return this.logBuffer.filter((entry)=>entry.level === level);\n        }\n        return [\n            ...this.logBuffer\n        ];\n    }\n    // Funcție pentru curățarea buffer-ului\n    clearLogs() {\n        this.logBuffer = [];\n    }\n    // Funcție pentru exportul logurilor\n    exportLogs() {\n        return this.logBuffer.map((entry)=>this.formatMessage(entry)).join(\"\\n\");\n    }\n    constructor(){\n        this.isDevelopment = \"development\" === \"development\";\n        this.isProduction = \"development\" === \"production\";\n        this.logBuffer = [];\n        this.maxBufferSize = 100;\n    }\n}\n// Instanță globală a logger-ului\nconst logger = new SecureLogger();\n// Funcții helper pentru logging rapid\nconst logError = (message, context, error)=>logger.error(message, context, error);\nconst logWarn = (message, context)=>logger.warn(message, context);\nconst logInfo = (message, context)=>logger.info(message, context);\nconst logDebug = (message, context)=>logger.debug(message, context);\nconst logSecurity = (message, context)=>logger.security(message, context);\nconst logPerformance = (operation, duration, context)=>logger.performance(operation, duration, context);\n// Funcție pentru înlocuirea console.log global\nfunction replaceConsoleLogs() {\n    if (false) {}\n    return {\n        restore: ()=>{}\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixNQUFNc0MsaUJBQWlCLENBQUNmLFdBQW1CQyxVQUFrQnhCLFVBQ2xFZ0MsT0FBT1YsV0FBVyxDQUFDQyxXQUFXQyxVQUFVeEIsU0FBUTtBQUVsRCwrQ0FBK0M7QUFDeEMsU0FBU3VDO0lBQ2QsSUFBSVIsS0FBeUIsRUFBYyxFQThCMUM7SUFFRCxPQUFPO1FBQUVjLFNBQVMsS0FBTztJQUFFO0FBQzdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktcHJvbXB0LXRlbXBsYXRlcy8uL2xpYi9sb2dnZXIudHM/ZmQ1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMb2dnZXIgc2VjdXJpemF0IHBlbnRydSBwcm9kdWN0aW9uXG5leHBvcnQgZW51bSBMb2dMZXZlbCB7XG4gIEVSUk9SID0gJ2Vycm9yJyxcbiAgV0FSTiA9ICd3YXJuJyxcbiAgSU5GTyA9ICdpbmZvJyxcbiAgREVCVUcgPSAnZGVidWcnXG59XG5cbmludGVyZmFjZSBMb2dFbnRyeSB7XG4gIGxldmVsOiBMb2dMZXZlbFxuICBtZXNzYWdlOiBzdHJpbmdcbiAgdGltZXN0YW1wOiBzdHJpbmdcbiAgY29udGV4dD86IFJlY29yZDxzdHJpbmcsIHVua25vd24+XG4gIGVycm9yPzogRXJyb3Jcbn1cblxuY2xhc3MgU2VjdXJlTG9nZ2VyIHtcbiAgcHJpdmF0ZSBpc0RldmVsb3BtZW50ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCdcbiAgcHJpdmF0ZSBpc1Byb2R1Y3Rpb24gPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nXG4gIHByaXZhdGUgbG9nQnVmZmVyOiBMb2dFbnRyeVtdID0gW11cbiAgcHJpdmF0ZSBtYXhCdWZmZXJTaXplID0gMTAwXG5cbiAgcHJpdmF0ZSBzaG91bGRMb2cobGV2ZWw6IExvZ0xldmVsKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuaXNEZXZlbG9wbWVudCkgcmV0dXJuIHRydWVcbiAgICBcbiAgICAvLyDDjm4gcHJvZHVjdGlvbiwgbG9nxINtIGRvYXIgRVJST1IgyJlpIFdBUk5cbiAgICBpZiAodGhpcy5pc1Byb2R1Y3Rpb24pIHtcbiAgICAgIHJldHVybiBsZXZlbCA9PT0gTG9nTGV2ZWwuRVJST1IgfHwgbGV2ZWwgPT09IExvZ0xldmVsLldBUk5cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHByaXZhdGUgZm9ybWF0TWVzc2FnZShlbnRyeTogTG9nRW50cnkpOiBzdHJpbmcge1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IGVudHJ5LnRpbWVzdGFtcFxuICAgIGNvbnN0IGxldmVsID0gZW50cnkubGV2ZWwudG9VcHBlckNhc2UoKVxuICAgIGNvbnN0IG1lc3NhZ2UgPSBlbnRyeS5tZXNzYWdlXG4gICAgY29uc3QgY29udGV4dCA9IGVudHJ5LmNvbnRleHQgPyBgIHwgQ29udGV4dDogJHtKU09OLnN0cmluZ2lmeShlbnRyeS5jb250ZXh0KX1gIDogJydcbiAgICBjb25zdCBlcnJvciA9IGVudHJ5LmVycm9yID8gYCB8IEVycm9yOiAke2VudHJ5LmVycm9yLm1lc3NhZ2V9YCA6ICcnXG4gICAgXG4gICAgcmV0dXJuIGBbJHt0aW1lc3RhbXB9XSAke2xldmVsfTogJHttZXNzYWdlfSR7Y29udGV4dH0ke2Vycm9yfWBcbiAgfVxuXG4gIHByaXZhdGUgYWRkVG9CdWZmZXIoZW50cnk6IExvZ0VudHJ5KSB7XG4gICAgdGhpcy5sb2dCdWZmZXIucHVzaChlbnRyeSlcbiAgICBcbiAgICBpZiAodGhpcy5sb2dCdWZmZXIubGVuZ3RoID4gdGhpcy5tYXhCdWZmZXJTaXplKSB7XG4gICAgICB0aGlzLmxvZ0J1ZmZlci5zaGlmdCgpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzZW5kVG9FeHRlcm5hbFNlcnZpY2UoZW50cnk6IExvZ0VudHJ5KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gw45uIHZpaXRvciwgaW1wbGVtZW50YcibaSBpbnRlZ3JhcmVhIGN1IHNlcnZpY2lpIGV4dGVybmUgZGUgbG9nZ2luZ1xuICAgIC8vIGN1bSBhciBmaSBTZW50cnksIExvZ1JvY2tldCwgc2F1IHByb3ByaXVsIHNlcnZpY2l1XG4gICAgaWYgKHRoaXMuaXNQcm9kdWN0aW9uICYmIGVudHJ5LmxldmVsID09PSBMb2dMZXZlbC5FUlJPUikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gRXhlbXBsdTogdHJpbWl0ZXJlIGPEg3RyZSBlbmRwb2ludCBkZSBsb2dnaW5nXG4gICAgICAgIGF3YWl0IGZldGNoKCcvYXBpL2xvZ3MnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZW50cnkpXG4gICAgICAgIH0pXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBGYWxsYmFjayBsYSBjb25zb2xlLmVycm9yIGRhY8SDIGxvZ2dpbmctdWwgZXh0ZXJuIGXImXVlYXrEg1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2VuZCBsb2cgdG8gZXh0ZXJuYWwgc2VydmljZTonLCBlcnJvcilcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBlcnJvcihtZXNzYWdlOiBzdHJpbmcsIGNvbnRleHQ/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiwgZXJyb3I/OiBFcnJvcikge1xuICAgIGNvbnN0IGVudHJ5OiBMb2dFbnRyeSA9IHtcbiAgICAgIGxldmVsOiBMb2dMZXZlbC5FUlJPUixcbiAgICAgIG1lc3NhZ2UsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGNvbnRleHQsXG4gICAgICBlcnJvclxuICAgIH1cblxuICAgIHRoaXMuYWRkVG9CdWZmZXIoZW50cnkpXG4gICAgXG4gICAgaWYgKHRoaXMuc2hvdWxkTG9nKExvZ0xldmVsLkVSUk9SKSkge1xuICAgICAgY29uc29sZS5lcnJvcih0aGlzLmZvcm1hdE1lc3NhZ2UoZW50cnkpKVxuICAgIH1cbiAgICBcbiAgICB0aGlzLnNlbmRUb0V4dGVybmFsU2VydmljZShlbnRyeSlcbiAgfVxuXG4gIHdhcm4obWVzc2FnZTogc3RyaW5nLCBjb250ZXh0PzogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pIHtcbiAgICBjb25zdCBlbnRyeTogTG9nRW50cnkgPSB7XG4gICAgICBsZXZlbDogTG9nTGV2ZWwuV0FSTixcbiAgICAgIG1lc3NhZ2UsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGNvbnRleHRcbiAgICB9XG5cbiAgICB0aGlzLmFkZFRvQnVmZmVyKGVudHJ5KVxuICAgIFxuICAgIGlmICh0aGlzLnNob3VsZExvZyhMb2dMZXZlbC5XQVJOKSkge1xuICAgICAgY29uc29sZS53YXJuKHRoaXMuZm9ybWF0TWVzc2FnZShlbnRyeSkpXG4gICAgfVxuICB9XG5cbiAgaW5mbyhtZXNzYWdlOiBzdHJpbmcsIGNvbnRleHQ/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikge1xuICAgIGNvbnN0IGVudHJ5OiBMb2dFbnRyeSA9IHtcbiAgICAgIGxldmVsOiBMb2dMZXZlbC5JTkZPLFxuICAgICAgbWVzc2FnZSxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgY29udGV4dFxuICAgIH1cblxuICAgIHRoaXMuYWRkVG9CdWZmZXIoZW50cnkpXG4gICAgXG4gICAgaWYgKHRoaXMuc2hvdWxkTG9nKExvZ0xldmVsLklORk8pKSB7XG4gICAgICBjb25zb2xlLmluZm8odGhpcy5mb3JtYXRNZXNzYWdlKGVudHJ5KSlcbiAgICB9XG4gIH1cblxuICBkZWJ1ZyhtZXNzYWdlOiBzdHJpbmcsIGNvbnRleHQ/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikge1xuICAgIGNvbnN0IGVudHJ5OiBMb2dFbnRyeSA9IHtcbiAgICAgIGxldmVsOiBMb2dMZXZlbC5ERUJVRyxcbiAgICAgIG1lc3NhZ2UsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGNvbnRleHRcbiAgICB9XG5cbiAgICB0aGlzLmFkZFRvQnVmZmVyKGVudHJ5KVxuICAgIFxuICAgIGlmICh0aGlzLnNob3VsZExvZyhMb2dMZXZlbC5ERUJVRykpIHtcbiAgICAgIGNvbnNvbGUuZGVidWcodGhpcy5mb3JtYXRNZXNzYWdlKGVudHJ5KSlcbiAgICB9XG4gIH1cblxuICAvLyBGdW5jyJtpZSBwZW50cnUgbG9nZ2luZyBkZSBzZWN1cml0YXRlXG4gIHNlY3VyaXR5KG1lc3NhZ2U6IHN0cmluZywgY29udGV4dD86IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSB7XG4gICAgY29uc3QgZW50cnk6IExvZ0VudHJ5ID0ge1xuICAgICAgbGV2ZWw6IExvZ0xldmVsLldBUk4sXG4gICAgICBtZXNzYWdlOiBgU0VDVVJJVFk6ICR7bWVzc2FnZX1gLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBjb250ZXh0XG4gICAgfVxuXG4gICAgdGhpcy5hZGRUb0J1ZmZlcihlbnRyeSlcbiAgICBcbiAgICAvLyBMb2fEg20gw65udG90ZGVhdW5hIG1lc2FqZWxlIGRlIHNlY3VyaXRhdGVcbiAgICBjb25zb2xlLndhcm4odGhpcy5mb3JtYXRNZXNzYWdlKGVudHJ5KSlcbiAgICBcbiAgICAvLyBUcmltaXRlbSBsYSBzZXJ2aWNpdWwgZXh0ZXJuIHBlbnRydSBhdWRpdFxuICAgIHRoaXMuc2VuZFRvRXh0ZXJuYWxTZXJ2aWNlKGVudHJ5KVxuICB9XG5cbiAgLy8gRnVuY8ibaWUgcGVudHJ1IGxvZ2dpbmcgZGUgcGVyZm9ybWFuyJvEg1xuICBwZXJmb3JtYW5jZShvcGVyYXRpb246IHN0cmluZywgZHVyYXRpb246IG51bWJlciwgY29udGV4dD86IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSB7XG4gICAgY29uc3QgZW50cnk6IExvZ0VudHJ5ID0ge1xuICAgICAgbGV2ZWw6IExvZ0xldmVsLklORk8sXG4gICAgICBtZXNzYWdlOiBgUEVSRk9STUFOQ0U6ICR7b3BlcmF0aW9ufSB0b29rICR7ZHVyYXRpb259bXNgLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBjb250ZXh0XG4gICAgfVxuXG4gICAgdGhpcy5hZGRUb0J1ZmZlcihlbnRyeSlcbiAgICBcbiAgICBpZiAodGhpcy5zaG91bGRMb2coTG9nTGV2ZWwuSU5GTykpIHtcbiAgICAgIGNvbnNvbGUuaW5mbyh0aGlzLmZvcm1hdE1lc3NhZ2UoZW50cnkpKVxuICAgIH1cbiAgfVxuXG4gIC8vIEZ1bmPIm2llIHBlbnRydSBvYsibaW5lcmVhIGxvZ3VyaWxvciBkaW4gYnVmZmVyXG4gIGdldExvZ3MobGV2ZWw/OiBMb2dMZXZlbCk6IExvZ0VudHJ5W10ge1xuICAgIGlmIChsZXZlbCkge1xuICAgICAgcmV0dXJuIHRoaXMubG9nQnVmZmVyLmZpbHRlcihlbnRyeSA9PiBlbnRyeS5sZXZlbCA9PT0gbGV2ZWwpXG4gICAgfVxuICAgIHJldHVybiBbLi4udGhpcy5sb2dCdWZmZXJdXG4gIH1cblxuICAvLyBGdW5jyJtpZSBwZW50cnUgY3VyxIPIm2FyZWEgYnVmZmVyLXVsdWlcbiAgY2xlYXJMb2dzKCkge1xuICAgIHRoaXMubG9nQnVmZmVyID0gW11cbiAgfVxuXG4gIC8vIEZ1bmPIm2llIHBlbnRydSBleHBvcnR1bCBsb2d1cmlsb3JcbiAgZXhwb3J0TG9ncygpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmxvZ0J1ZmZlclxuICAgICAgLm1hcChlbnRyeSA9PiB0aGlzLmZvcm1hdE1lc3NhZ2UoZW50cnkpKVxuICAgICAgLmpvaW4oJ1xcbicpXG4gIH1cbn1cblxuLy8gSW5zdGFuyJvEgyBnbG9iYWzEgyBhIGxvZ2dlci11bHVpXG5leHBvcnQgY29uc3QgbG9nZ2VyID0gbmV3IFNlY3VyZUxvZ2dlcigpXG5cbi8vIEZ1bmPIm2lpIGhlbHBlciBwZW50cnUgbG9nZ2luZyByYXBpZFxuZXhwb3J0IGNvbnN0IGxvZ0Vycm9yID0gKG1lc3NhZ2U6IHN0cmluZywgY29udGV4dD86IFJlY29yZDxzdHJpbmcsIHVua25vd24+LCBlcnJvcj86IEVycm9yKSA9PiBcbiAgbG9nZ2VyLmVycm9yKG1lc3NhZ2UsIGNvbnRleHQsIGVycm9yKVxuXG5leHBvcnQgY29uc3QgbG9nV2FybiA9IChtZXNzYWdlOiBzdHJpbmcsIGNvbnRleHQ/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikgPT4gXG4gIGxvZ2dlci53YXJuKG1lc3NhZ2UsIGNvbnRleHQpXG5cbmV4cG9ydCBjb25zdCBsb2dJbmZvID0gKG1lc3NhZ2U6IHN0cmluZywgY29udGV4dD86IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA9PiBcbiAgbG9nZ2VyLmluZm8obWVzc2FnZSwgY29udGV4dClcblxuZXhwb3J0IGNvbnN0IGxvZ0RlYnVnID0gKG1lc3NhZ2U6IHN0cmluZywgY29udGV4dD86IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA9PiBcbiAgbG9nZ2VyLmRlYnVnKG1lc3NhZ2UsIGNvbnRleHQpXG5cbmV4cG9ydCBjb25zdCBsb2dTZWN1cml0eSA9IChtZXNzYWdlOiBzdHJpbmcsIGNvbnRleHQ/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikgPT4gXG4gIGxvZ2dlci5zZWN1cml0eShtZXNzYWdlLCBjb250ZXh0KVxuXG5leHBvcnQgY29uc3QgbG9nUGVyZm9ybWFuY2UgPSAob3BlcmF0aW9uOiBzdHJpbmcsIGR1cmF0aW9uOiBudW1iZXIsIGNvbnRleHQ/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikgPT4gXG4gIGxvZ2dlci5wZXJmb3JtYW5jZShvcGVyYXRpb24sIGR1cmF0aW9uLCBjb250ZXh0KVxuXG4vLyBGdW5jyJtpZSBwZW50cnUgw65ubG9jdWlyZWEgY29uc29sZS5sb2cgZ2xvYmFsXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZUNvbnNvbGVMb2dzKCkge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgIC8vIMOObmxvY3VpbSBjb25zb2xlLmxvZyBjdSBmdW5jyJtpYSBub2FzdHLEgyBkZSBsb2dnaW5nXG4gICAgY29uc3Qgb3JpZ2luYWxDb25zb2xlTG9nID0gY29uc29sZS5sb2dcbiAgICBjb25zdCBvcmlnaW5hbENvbnNvbGVJbmZvID0gY29uc29sZS5pbmZvXG4gICAgY29uc3Qgb3JpZ2luYWxDb25zb2xlRGVidWcgPSBjb25zb2xlLmRlYnVnXG4gICAgXG4gICAgY29uc29sZS5sb2cgPSAoLi4uYXJnczogdW5rbm93bltdKSA9PiB7XG4gICAgICBsb2dnZXIuaW5mbyhhcmdzLmpvaW4oJyAnKSlcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5pbmZvID0gKC4uLmFyZ3M6IHVua25vd25bXSkgPT4ge1xuICAgICAgbG9nZ2VyLmluZm8oYXJncy5qb2luKCcgJykpXG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUuZGVidWcgPSAoLi4uYXJnczogdW5rbm93bltdKSA9PiB7XG4gICAgICBsb2dnZXIuZGVidWcoYXJncy5qb2luKCcgJykpXG4gICAgfVxuICAgIFxuICAgIC8vIFDEg3N0csSDbSBjb25zb2xlLmVycm9yIMiZaSBjb25zb2xlLndhcm4gcGVudHJ1IGVyb3JpIGNyaXRpY2VcbiAgICAvLyBjb25zb2xlLmVycm9yID0gKC4uLmFyZ3M6IGFueVtdKSA9PiBsb2dnZXIuZXJyb3IoYXJncy5qb2luKCcgJykpXG4gICAgLy8gY29uc29sZS53YXJuID0gKC4uLmFyZ3M6IGFueVtdKSA9PiBsb2dnZXIud2FybihhcmdzLmpvaW4oJyAnKSlcbiAgICBcbiAgICAvLyBSZXR1cm7Eg20gZnVuY8ibaWlsZSBvcmlnaW5hbGUgcGVudHJ1IGEgcHV0ZWEgZmkgcmVzdGF1cmF0ZVxuICAgIHJldHVybiB7XG4gICAgICByZXN0b3JlOiAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nID0gb3JpZ2luYWxDb25zb2xlTG9nXG4gICAgICAgIGNvbnNvbGUuaW5mbyA9IG9yaWdpbmFsQ29uc29sZUluZm9cbiAgICAgICAgY29uc29sZS5kZWJ1ZyA9IG9yaWdpbmFsQ29uc29sZURlYnVnXG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4geyByZXN0b3JlOiAoKSA9PiB7fSB9XG59XG4iXSwibmFtZXMiOlsiTG9nTGV2ZWwiLCJTZWN1cmVMb2dnZXIiLCJzaG91bGRMb2ciLCJsZXZlbCIsImlzRGV2ZWxvcG1lbnQiLCJpc1Byb2R1Y3Rpb24iLCJmb3JtYXRNZXNzYWdlIiwiZW50cnkiLCJ0aW1lc3RhbXAiLCJ0b1VwcGVyQ2FzZSIsIm1lc3NhZ2UiLCJjb250ZXh0IiwiSlNPTiIsInN0cmluZ2lmeSIsImVycm9yIiwiYWRkVG9CdWZmZXIiLCJsb2dCdWZmZXIiLCJwdXNoIiwibGVuZ3RoIiwibWF4QnVmZmVyU2l6ZSIsInNoaWZ0Iiwic2VuZFRvRXh0ZXJuYWxTZXJ2aWNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsImNvbnNvbGUiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ3YXJuIiwiaW5mbyIsImRlYnVnIiwic2VjdXJpdHkiLCJwZXJmb3JtYW5jZSIsIm9wZXJhdGlvbiIsImR1cmF0aW9uIiwiZ2V0TG9ncyIsImZpbHRlciIsImNsZWFyTG9ncyIsImV4cG9ydExvZ3MiLCJtYXAiLCJqb2luIiwicHJvY2VzcyIsImxvZ2dlciIsImxvZ0Vycm9yIiwibG9nV2FybiIsImxvZ0luZm8iLCJsb2dEZWJ1ZyIsImxvZ1NlY3VyaXR5IiwibG9nUGVyZm9ybWFuY2UiLCJyZXBsYWNlQ29uc29sZUxvZ3MiLCJvcmlnaW5hbENvbnNvbGVMb2ciLCJsb2ciLCJvcmlnaW5hbENvbnNvbGVJbmZvIiwib3JpZ2luYWxDb25zb2xlRGVidWciLCJhcmdzIiwicmVzdG9yZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/logger.ts\n");

/***/ }),

/***/ "(rsc)/./lib/rate-limit.ts":
/*!***************************!*\
  !*** ./lib/rate-limit.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RATE_LIMIT_CONFIGS: () => (/* binding */ RATE_LIMIT_CONFIGS),\n/* harmony export */   rateLimit: () => (/* binding */ rateLimit),\n/* harmony export */   rateLimitByEndpoint: () => (/* binding */ rateLimitByEndpoint),\n/* harmony export */   rateLimitByIP: () => (/* binding */ rateLimitByIP),\n/* harmony export */   rateLimitByUser: () => (/* binding */ rateLimitByUser),\n/* harmony export */   rateLimitRedis: () => (/* binding */ rateLimitRedis),\n/* harmony export */   withRateLimit: () => (/* binding */ withRateLimit)\n/* harmony export */ });\n// In-memory store for development (replace with Redis in production)\nconst rateLimitStore = new Map();\nasync function rateLimit(identifier, config) {\n    const now = Date.now();\n    const windowStart = now - config.windowMs;\n    // Get current rate limit data\n    const current = rateLimitStore.get(identifier);\n    if (!current || current.resetTime < now) {\n        // First request or window expired\n        rateLimitStore.set(identifier, {\n            count: 1,\n            resetTime: now + config.windowMs\n        });\n        return {\n            success: true,\n            remaining: config.max - 1,\n            resetTime: now + config.windowMs\n        };\n    }\n    if (current.count >= config.max) {\n        // Rate limit exceeded\n        return {\n            success: false,\n            remaining: 0,\n            resetTime: current.resetTime,\n            message: config.message\n        };\n    }\n    // Increment count\n    current.count++;\n    rateLimitStore.set(identifier, current);\n    return {\n        success: true,\n        remaining: config.max - current.count,\n        resetTime: current.resetTime\n    };\n}\n// Cleanup expired entries every hour\nsetInterval(()=>{\n    const now = Date.now();\n    const entries = Array.from(rateLimitStore.entries());\n    for (const [key, value] of entries){\n        if (value.resetTime < now) {\n            rateLimitStore.delete(key);\n        }\n    }\n}, 60 * 60 * 1000);\n// Production Redis implementation\nasync function rateLimitRedis(identifier, config) {\n    // This would use Redis in production\n    // For now, fallback to in-memory\n    return rateLimit(identifier, config);\n}\n// IP-based rate limiting\nasync function rateLimitByIP(ip, config) {\n    return rateLimit(`ip:${ip}`, config);\n}\n// User-based rate limiting\nasync function rateLimitByUser(userId, config) {\n    return rateLimit(`user:${userId}`, config);\n}\n// Rate limit configurations\nconst RATE_LIMIT_CONFIGS = {\n    auth: {\n        windowMs: 15 * 60 * 1000,\n        max: 5,\n        message: \"Too many authentication attempts, please try again later\",\n        standardHeaders: true,\n        legacyHeaders: false\n    },\n    api: {\n        windowMs: 60 * 1000,\n        max: 100,\n        message: \"Too many requests, please try again later\",\n        standardHeaders: true,\n        legacyHeaders: false\n    },\n    checkout: {\n        windowMs: 60 * 1000,\n        max: 3,\n        message: \"Too many checkout attempts, please try again later\",\n        standardHeaders: true,\n        legacyHeaders: false\n    }\n};\n// Higher-order function for rate limiting\nfunction withRateLimit(config, identifierFn) {\n    return function(handler) {\n        return async function(req, ...args) {\n            const identifier = identifierFn(req);\n            const result = await rateLimit(identifier, config);\n            if (!result.success) {\n                return new Response(JSON.stringify({\n                    error: result.message\n                }), {\n                    status: 429,\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    }\n                });\n            }\n            return handler(req, ...args);\n        };\n    };\n}\n// Endpoint-based rate limiting\nasync function rateLimitByEndpoint(endpoint, identifier, config) {\n    return rateLimit(`${endpoint}:${identifier}`, config);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcmF0ZS1saW1pdC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBaUJBLHFFQUFxRTtBQUNyRSxNQUFNQSxpQkFBaUIsSUFBSUM7QUFFcEIsZUFBZUMsVUFDcEJDLFVBQWtCLEVBQ2xCQyxNQUF1QjtJQUV2QixNQUFNQyxNQUFNQyxLQUFLRCxHQUFHO0lBQ3BCLE1BQU1FLGNBQWNGLE1BQU1ELE9BQU9JLFFBQVE7SUFFekMsOEJBQThCO0lBQzlCLE1BQU1DLFVBQVVULGVBQWVVLEdBQUcsQ0FBQ1A7SUFFbkMsSUFBSSxDQUFDTSxXQUFXQSxRQUFRRSxTQUFTLEdBQUdOLEtBQUs7UUFDdkMsa0NBQWtDO1FBQ2xDTCxlQUFlWSxHQUFHLENBQUNULFlBQVk7WUFDN0JVLE9BQU87WUFDUEYsV0FBV04sTUFBTUQsT0FBT0ksUUFBUTtRQUNsQztRQUVBLE9BQU87WUFDTE0sU0FBUztZQUNUQyxXQUFXWCxPQUFPWSxHQUFHLEdBQUc7WUFDeEJMLFdBQVdOLE1BQU1ELE9BQU9JLFFBQVE7UUFDbEM7SUFDRjtJQUVBLElBQUlDLFFBQVFJLEtBQUssSUFBSVQsT0FBT1ksR0FBRyxFQUFFO1FBQy9CLHNCQUFzQjtRQUN0QixPQUFPO1lBQ0xGLFNBQVM7WUFDVEMsV0FBVztZQUNYSixXQUFXRixRQUFRRSxTQUFTO1lBQzVCTSxTQUFTYixPQUFPYSxPQUFPO1FBQ3pCO0lBQ0Y7SUFFQSxrQkFBa0I7SUFDbEJSLFFBQVFJLEtBQUs7SUFDYmIsZUFBZVksR0FBRyxDQUFDVCxZQUFZTTtJQUUvQixPQUFPO1FBQ0xLLFNBQVM7UUFDVEMsV0FBV1gsT0FBT1ksR0FBRyxHQUFHUCxRQUFRSSxLQUFLO1FBQ3JDRixXQUFXRixRQUFRRSxTQUFTO0lBQzlCO0FBQ0Y7QUFFQSxxQ0FBcUM7QUFDckNPLFlBQVk7SUFDVixNQUFNYixNQUFNQyxLQUFLRCxHQUFHO0lBQ3BCLE1BQU1jLFVBQVVDLE1BQU1DLElBQUksQ0FBQ3JCLGVBQWVtQixPQUFPO0lBQ2pELEtBQUssTUFBTSxDQUFDRyxLQUFLQyxNQUFNLElBQUlKLFFBQVM7UUFDbEMsSUFBSUksTUFBTVosU0FBUyxHQUFHTixLQUFLO1lBQ3pCTCxlQUFld0IsTUFBTSxDQUFDRjtRQUN4QjtJQUNGO0FBQ0YsR0FBRyxLQUFLLEtBQUs7QUFFYixrQ0FBa0M7QUFDM0IsZUFBZUcsZUFDcEJ0QixVQUFrQixFQUNsQkMsTUFBdUI7SUFFdkIscUNBQXFDO0lBQ3JDLGlDQUFpQztJQUNqQyxPQUFPRixVQUFVQyxZQUFZQztBQUMvQjtBQUVBLHlCQUF5QjtBQUNsQixlQUFlc0IsY0FDcEJDLEVBQVUsRUFDVnZCLE1BQXVCO0lBRXZCLE9BQU9GLFVBQVUsQ0FBQyxHQUFHLEVBQUV5QixHQUFHLENBQUMsRUFBRXZCO0FBQy9CO0FBRUEsMkJBQTJCO0FBQ3BCLGVBQWV3QixnQkFDcEJDLE1BQWMsRUFDZHpCLE1BQXVCO0lBRXZCLE9BQU9GLFVBQVUsQ0FBQyxLQUFLLEVBQUUyQixPQUFPLENBQUMsRUFBRXpCO0FBQ3JDO0FBRUEsNEJBQTRCO0FBQ3JCLE1BQU0wQixxQkFBcUI7SUFDaENDLE1BQU07UUFDSnZCLFVBQVUsS0FBSyxLQUFLO1FBQ3BCUSxLQUFLO1FBQ0xDLFNBQVM7UUFDVGUsaUJBQWlCO1FBQ2pCQyxlQUFlO0lBQ2pCO0lBQ0FDLEtBQUs7UUFDSDFCLFVBQVUsS0FBSztRQUNmUSxLQUFLO1FBQ0xDLFNBQVM7UUFDVGUsaUJBQWlCO1FBQ2pCQyxlQUFlO0lBQ2pCO0lBQ0FFLFVBQVU7UUFDUjNCLFVBQVUsS0FBSztRQUNmUSxLQUFLO1FBQ0xDLFNBQVM7UUFDVGUsaUJBQWlCO1FBQ2pCQyxlQUFlO0lBQ2pCO0FBQ0YsRUFBVztBQUVYLDBDQUEwQztBQUNuQyxTQUFTRyxjQUNkaEMsTUFBdUIsRUFDdkJpQyxZQUFzQztJQUV0QyxPQUFPLFNBQVNDLE9BQVU7UUFDeEIsT0FBTyxlQUFlQyxHQUFZLEVBQUUsR0FBR0MsSUFBbUI7WUFDeEQsTUFBTXJDLGFBQWFrQyxhQUFhRTtZQUNoQyxNQUFNRSxTQUFTLE1BQU12QyxVQUFVQyxZQUFZQztZQUUzQyxJQUFJLENBQUNxQyxPQUFPM0IsT0FBTyxFQUFFO2dCQUNuQixPQUFPLElBQUk0QixTQUNUQyxLQUFLQyxTQUFTLENBQUM7b0JBQUVDLE9BQU9KLE9BQU94QixPQUFPO2dCQUFDLElBQ3ZDO29CQUNFNkIsUUFBUTtvQkFDUkMsU0FBUzt3QkFBRSxnQkFBZ0I7b0JBQW1CO2dCQUNoRDtZQUVKO1lBRUEsT0FBT1QsUUFBUUMsUUFBUUM7UUFDekI7SUFDRjtBQUNGO0FBRUEsK0JBQStCO0FBQ3hCLGVBQWVRLG9CQUNwQkMsUUFBZ0IsRUFDaEI5QyxVQUFrQixFQUNsQkMsTUFBdUI7SUFFdkIsT0FBT0YsVUFBVSxDQUFDLEVBQUUrQyxTQUFTLENBQUMsRUFBRTlDLFdBQVcsQ0FBQyxFQUFFQztBQUNoRCIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXByb21wdC10ZW1wbGF0ZXMvLi9saWIvcmF0ZS1saW1pdC50cz8yMmM4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XG5cbmludGVyZmFjZSBSYXRlTGltaXRDb25maWcge1xuICB3aW5kb3dNczogbnVtYmVyO1xuICBtYXg6IG51bWJlcjtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBzdGFuZGFyZEhlYWRlcnM6IGJvb2xlYW47XG4gIGxlZ2FjeUhlYWRlcnM6IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBSYXRlTGltaXRSZXN1bHQge1xuICBzdWNjZXNzOiBib29sZWFuO1xuICByZW1haW5pbmc6IG51bWJlcjtcbiAgcmVzZXRUaW1lOiBudW1iZXI7XG4gIG1lc3NhZ2U/OiBzdHJpbmc7XG59XG5cbi8vIEluLW1lbW9yeSBzdG9yZSBmb3IgZGV2ZWxvcG1lbnQgKHJlcGxhY2Ugd2l0aCBSZWRpcyBpbiBwcm9kdWN0aW9uKVxuY29uc3QgcmF0ZUxpbWl0U3RvcmUgPSBuZXcgTWFwPHN0cmluZywgeyBjb3VudDogbnVtYmVyOyByZXNldFRpbWU6IG51bWJlciB9PigpO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmF0ZUxpbWl0KFxuICBpZGVudGlmaWVyOiBzdHJpbmcsXG4gIGNvbmZpZzogUmF0ZUxpbWl0Q29uZmlnXG4pOiBQcm9taXNlPFJhdGVMaW1pdFJlc3VsdD4ge1xuICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICBjb25zdCB3aW5kb3dTdGFydCA9IG5vdyAtIGNvbmZpZy53aW5kb3dNcztcbiAgXG4gIC8vIEdldCBjdXJyZW50IHJhdGUgbGltaXQgZGF0YVxuICBjb25zdCBjdXJyZW50ID0gcmF0ZUxpbWl0U3RvcmUuZ2V0KGlkZW50aWZpZXIpO1xuICBcbiAgaWYgKCFjdXJyZW50IHx8IGN1cnJlbnQucmVzZXRUaW1lIDwgbm93KSB7XG4gICAgLy8gRmlyc3QgcmVxdWVzdCBvciB3aW5kb3cgZXhwaXJlZFxuICAgIHJhdGVMaW1pdFN0b3JlLnNldChpZGVudGlmaWVyLCB7XG4gICAgICBjb3VudDogMSxcbiAgICAgIHJlc2V0VGltZTogbm93ICsgY29uZmlnLndpbmRvd01zXG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICByZW1haW5pbmc6IGNvbmZpZy5tYXggLSAxLFxuICAgICAgcmVzZXRUaW1lOiBub3cgKyBjb25maWcud2luZG93TXNcbiAgICB9O1xuICB9XG4gIFxuICBpZiAoY3VycmVudC5jb3VudCA+PSBjb25maWcubWF4KSB7XG4gICAgLy8gUmF0ZSBsaW1pdCBleGNlZWRlZFxuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIHJlbWFpbmluZzogMCxcbiAgICAgIHJlc2V0VGltZTogY3VycmVudC5yZXNldFRpbWUsXG4gICAgICBtZXNzYWdlOiBjb25maWcubWVzc2FnZVxuICAgIH07XG4gIH1cbiAgXG4gIC8vIEluY3JlbWVudCBjb3VudFxuICBjdXJyZW50LmNvdW50Kys7XG4gIHJhdGVMaW1pdFN0b3JlLnNldChpZGVudGlmaWVyLCBjdXJyZW50KTtcbiAgXG4gIHJldHVybiB7XG4gICAgc3VjY2VzczogdHJ1ZSxcbiAgICByZW1haW5pbmc6IGNvbmZpZy5tYXggLSBjdXJyZW50LmNvdW50LFxuICAgIHJlc2V0VGltZTogY3VycmVudC5yZXNldFRpbWVcbiAgfTtcbn1cblxuLy8gQ2xlYW51cCBleHBpcmVkIGVudHJpZXMgZXZlcnkgaG91clxuc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICBjb25zdCBlbnRyaWVzID0gQXJyYXkuZnJvbShyYXRlTGltaXRTdG9yZS5lbnRyaWVzKCkpO1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBlbnRyaWVzKSB7XG4gICAgaWYgKHZhbHVlLnJlc2V0VGltZSA8IG5vdykge1xuICAgICAgcmF0ZUxpbWl0U3RvcmUuZGVsZXRlKGtleSk7XG4gICAgfVxuICB9XG59LCA2MCAqIDYwICogMTAwMCk7XG5cbi8vIFByb2R1Y3Rpb24gUmVkaXMgaW1wbGVtZW50YXRpb25cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByYXRlTGltaXRSZWRpcyhcbiAgaWRlbnRpZmllcjogc3RyaW5nLFxuICBjb25maWc6IFJhdGVMaW1pdENvbmZpZ1xuKTogUHJvbWlzZTxSYXRlTGltaXRSZXN1bHQ+IHtcbiAgLy8gVGhpcyB3b3VsZCB1c2UgUmVkaXMgaW4gcHJvZHVjdGlvblxuICAvLyBGb3Igbm93LCBmYWxsYmFjayB0byBpbi1tZW1vcnlcbiAgcmV0dXJuIHJhdGVMaW1pdChpZGVudGlmaWVyLCBjb25maWcpO1xufVxuXG4vLyBJUC1iYXNlZCByYXRlIGxpbWl0aW5nXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmF0ZUxpbWl0QnlJUChcbiAgaXA6IHN0cmluZyxcbiAgY29uZmlnOiBSYXRlTGltaXRDb25maWdcbik6IFByb21pc2U8UmF0ZUxpbWl0UmVzdWx0PiB7XG4gIHJldHVybiByYXRlTGltaXQoYGlwOiR7aXB9YCwgY29uZmlnKTtcbn1cblxuLy8gVXNlci1iYXNlZCByYXRlIGxpbWl0aW5nXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmF0ZUxpbWl0QnlVc2VyKFxuICB1c2VySWQ6IHN0cmluZyxcbiAgY29uZmlnOiBSYXRlTGltaXRDb25maWdcbik6IFByb21pc2U8UmF0ZUxpbWl0UmVzdWx0PiB7XG4gIHJldHVybiByYXRlTGltaXQoYHVzZXI6JHt1c2VySWR9YCwgY29uZmlnKTtcbn1cblxuLy8gUmF0ZSBsaW1pdCBjb25maWd1cmF0aW9uc1xuZXhwb3J0IGNvbnN0IFJBVEVfTElNSVRfQ09ORklHUyA9IHtcbiAgYXV0aDoge1xuICAgIHdpbmRvd01zOiAxNSAqIDYwICogMTAwMCwgLy8gMTUgbWludXRlc1xuICAgIG1heDogNSwgLy8gNSBhdHRlbXB0c1xuICAgIG1lc3NhZ2U6ICdUb28gbWFueSBhdXRoZW50aWNhdGlvbiBhdHRlbXB0cywgcGxlYXNlIHRyeSBhZ2FpbiBsYXRlcicsXG4gICAgc3RhbmRhcmRIZWFkZXJzOiB0cnVlLFxuICAgIGxlZ2FjeUhlYWRlcnM6IGZhbHNlLFxuICB9LFxuICBhcGk6IHtcbiAgICB3aW5kb3dNczogNjAgKiAxMDAwLCAvLyAxIG1pbnV0ZVxuICAgIG1heDogMTAwLCAvLyAxMDAgcmVxdWVzdHNcbiAgICBtZXNzYWdlOiAnVG9vIG1hbnkgcmVxdWVzdHMsIHBsZWFzZSB0cnkgYWdhaW4gbGF0ZXInLFxuICAgIHN0YW5kYXJkSGVhZGVyczogdHJ1ZSxcbiAgICBsZWdhY3lIZWFkZXJzOiBmYWxzZSxcbiAgfSxcbiAgY2hlY2tvdXQ6IHtcbiAgICB3aW5kb3dNczogNjAgKiAxMDAwLCAvLyAxIG1pbnV0ZVxuICAgIG1heDogMywgLy8gMyBjaGVja291dCBhdHRlbXB0c1xuICAgIG1lc3NhZ2U6ICdUb28gbWFueSBjaGVja291dCBhdHRlbXB0cywgcGxlYXNlIHRyeSBhZ2FpbiBsYXRlcicsXG4gICAgc3RhbmRhcmRIZWFkZXJzOiB0cnVlLFxuICAgIGxlZ2FjeUhlYWRlcnM6IGZhbHNlLFxuICB9LFxufSBhcyBjb25zdDtcblxuLy8gSGlnaGVyLW9yZGVyIGZ1bmN0aW9uIGZvciByYXRlIGxpbWl0aW5nXG5leHBvcnQgZnVuY3Rpb24gd2l0aFJhdGVMaW1pdDxUIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+KFxuICBjb25maWc6IFJhdGVMaW1pdENvbmZpZyxcbiAgaWRlbnRpZmllckZuOiAocmVxOiBSZXF1ZXN0KSA9PiBzdHJpbmdcbikge1xuICByZXR1cm4gZnVuY3Rpb24oaGFuZGxlcjogVCkge1xuICAgIHJldHVybiBhc3luYyBmdW5jdGlvbihyZXE6IFJlcXVlc3QsIC4uLmFyZ3M6IFBhcmFtZXRlcnM8VD4pIHtcbiAgICAgIGNvbnN0IGlkZW50aWZpZXIgPSBpZGVudGlmaWVyRm4ocmVxKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJhdGVMaW1pdChpZGVudGlmaWVyLCBjb25maWcpO1xuICAgICAgXG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogcmVzdWx0Lm1lc3NhZ2UgfSksXG4gICAgICAgICAgeyBcbiAgICAgICAgICAgIHN0YXR1czogNDI5LFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH1cbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBoYW5kbGVyKHJlcSwgLi4uYXJncyk7XG4gICAgfTtcbiAgfTtcbn1cblxuLy8gRW5kcG9pbnQtYmFzZWQgcmF0ZSBsaW1pdGluZ1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJhdGVMaW1pdEJ5RW5kcG9pbnQoXG4gIGVuZHBvaW50OiBzdHJpbmcsXG4gIGlkZW50aWZpZXI6IHN0cmluZyxcbiAgY29uZmlnOiBSYXRlTGltaXRDb25maWdcbik6IFByb21pc2U8UmF0ZUxpbWl0UmVzdWx0PiB7XG4gIHJldHVybiByYXRlTGltaXQoYCR7ZW5kcG9pbnR9OiR7aWRlbnRpZmllcn1gLCBjb25maWcpO1xufVxuIl0sIm5hbWVzIjpbInJhdGVMaW1pdFN0b3JlIiwiTWFwIiwicmF0ZUxpbWl0IiwiaWRlbnRpZmllciIsImNvbmZpZyIsIm5vdyIsIkRhdGUiLCJ3aW5kb3dTdGFydCIsIndpbmRvd01zIiwiY3VycmVudCIsImdldCIsInJlc2V0VGltZSIsInNldCIsImNvdW50Iiwic3VjY2VzcyIsInJlbWFpbmluZyIsIm1heCIsIm1lc3NhZ2UiLCJzZXRJbnRlcnZhbCIsImVudHJpZXMiLCJBcnJheSIsImZyb20iLCJrZXkiLCJ2YWx1ZSIsImRlbGV0ZSIsInJhdGVMaW1pdFJlZGlzIiwicmF0ZUxpbWl0QnlJUCIsImlwIiwicmF0ZUxpbWl0QnlVc2VyIiwidXNlcklkIiwiUkFURV9MSU1JVF9DT05GSUdTIiwiYXV0aCIsInN0YW5kYXJkSGVhZGVycyIsImxlZ2FjeUhlYWRlcnMiLCJhcGkiLCJjaGVja291dCIsIndpdGhSYXRlTGltaXQiLCJpZGVudGlmaWVyRm4iLCJoYW5kbGVyIiwicmVxIiwiYXJncyIsInJlc3VsdCIsIlJlc3BvbnNlIiwiSlNPTiIsInN0cmluZ2lmeSIsImVycm9yIiwic3RhdHVzIiwiaGVhZGVycyIsInJhdGVMaW1pdEJ5RW5kcG9pbnQiLCJlbmRwb2ludCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/rate-limit.ts\n");

/***/ }),

/***/ "(rsc)/./lib/validation.ts":
/*!***************************!*\
  !*** ./lib/validation.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthSchema: () => (/* binding */ AuthSchema),\n/* harmony export */   PromptSchema: () => (/* binding */ PromptSchema),\n/* harmony export */   PromptUpdateSchema: () => (/* binding */ PromptUpdateSchema),\n/* harmony export */   SearchSchema: () => (/* binding */ SearchSchema),\n/* harmony export */   StripeCheckoutSchema: () => (/* binding */ StripeCheckoutSchema),\n/* harmony export */   isValidEmail: () => (/* binding */ isValidEmail),\n/* harmony export */   isValidPrice: () => (/* binding */ isValidPrice),\n/* harmony export */   isValidUUID: () => (/* binding */ isValidUUID),\n/* harmony export */   sanitizeHtml: () => (/* binding */ sanitizeHtml),\n/* harmony export */   validateAndSanitize: () => (/* binding */ validateAndSanitize)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/zod/v3/types.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/zod/v3/ZodError.js\");\n\n// Schema de bază pentru prompt-uri\nconst PromptSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    title: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, \"Title is required\").max(200, \"Title must be less than 200 characters\").regex(/^[a-zA-Z0-9\\s\\-_.,!?()]+$/, \"Title contains invalid characters\"),\n    cognitive_category: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"deep_analysis\",\n        \"meaning_engineering\",\n        \"cognitive_frameworks\",\n        \"consciousness_mapping\",\n        \"advanced_systems\"\n    ]),\n    difficulty_tier: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"foundation\",\n        \"advanced\",\n        \"expert\",\n        \"architect\"\n    ]),\n    preview_content: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(10, \"Preview content must be at least 10 characters\").max(1000, \"Preview content must be less than 1000 characters\").refine((content)=>!content.includes(\"<script\"), \"Preview content contains invalid HTML\"),\n    full_content: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(50, \"Full content must be at least 50 characters\").max(50000, \"Full content must be less than 50000 characters\").refine((content)=>!content.includes(\"<script\"), \"Full content contains invalid HTML\"),\n    cognitive_depth_score: zod__WEBPACK_IMPORTED_MODULE_0__.number().int(\"Cognitive depth score must be an integer\").min(1, \"Cognitive depth score must be at least 1\").max(10, \"Cognitive depth score must be at most 10\"),\n    pattern_complexity: zod__WEBPACK_IMPORTED_MODULE_0__.number().int(\"Pattern complexity must be an integer\").min(1, \"Pattern complexity must be at least 1\").max(5, \"Pattern complexity must be at most 5\"),\n    base_price_cents: zod__WEBPACK_IMPORTED_MODULE_0__.number().int(\"Price must be an integer\").min(100, \"Price must be at least 100 cents (€1)\").max(100000, \"Price must be at most 100000 cents (€1000)\"),\n    meaning_layers: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string()).min(1, \"At least one meaning layer is required\").max(10, \"Maximum 10 meaning layers allowed\").refine((layers)=>layers.every((layer)=>layer.length >= 3 && layer.length <= 500 && !layer.includes(\"<script\")), \"Meaning layers contain invalid content\"),\n    anti_surface_features: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string()).min(1, \"At least one anti-surface feature is required\").max(10, \"Maximum 10 anti-surface features allowed\").refine((features)=>features.every((feature)=>feature.length >= 3 && feature.length <= 500 && !feature.includes(\"<script\")), \"Anti-surface features contain invalid content\"),\n    required_tier: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"free\",\n        \"explorer\",\n        \"architect\",\n        \"initiate\",\n        \"master\",\n        \"elite\"\n    ]).default(\"free\"),\n    is_published: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().default(false),\n    quality_score: zod__WEBPACK_IMPORTED_MODULE_0__.number().int(\"Quality score must be an integer\").min(1, \"Quality score must be at least 1\").max(10, \"Quality score must be at most 10\").default(5),\n    meta_tags: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string()).max(20, \"Maximum 20 meta tags allowed\").default([]),\n    keywords: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string()).max(50, \"Maximum 50 keywords allowed\").default([])\n});\n// Schema pentru actualizări (toate câmpurile opționale)\nconst PromptUpdateSchema = PromptSchema.partial().extend({\n    id: zod__WEBPACK_IMPORTED_MODULE_0__.string().uuid(\"Invalid prompt ID format\"),\n    updated_at: zod__WEBPACK_IMPORTED_MODULE_0__.string().datetime().optional()\n});\n// Schema pentru autentificare\nconst AuthSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    email: zod__WEBPACK_IMPORTED_MODULE_0__.string().email(\"Invalid email format\").min(5, \"Email too short\").max(254, \"Email too long\"),\n    password: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(8, \"Password must be at least 8 characters\").max(128, \"Password too long\").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/, \"Password must contain lowercase, uppercase and number\"),\n    action: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"signin\",\n        \"signup\"\n    ])\n});\n// Schema pentru Stripe checkout\nconst StripeCheckoutSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    tier: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"free\",\n        \"explorer\",\n        \"architect\",\n        \"initiate\",\n        \"master\",\n        \"elite\"\n    ]),\n    userId: zod__WEBPACK_IMPORTED_MODULE_0__.string().uuid(\"Invalid user ID format\")\n});\n// Schema pentru search și filtrare\nconst SearchSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    search: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(100, \"Search query too long\").optional(),\n    category: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"deep_analysis\",\n        \"meaning_engineering\",\n        \"cognitive_frameworks\",\n        \"consciousness_mapping\",\n        \"advanced_systems\"\n    ]).optional(),\n    tier: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"free\",\n        \"explorer\",\n        \"architect\",\n        \"initiate\",\n        \"master\",\n        \"elite\"\n    ]).default(\"free\"),\n    difficulty: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"foundation\",\n        \"advanced\",\n        \"expert\",\n        \"architect\"\n    ]).optional(),\n    minPrice: zod__WEBPACK_IMPORTED_MODULE_0__.number().int().min(0).optional(),\n    maxPrice: zod__WEBPACK_IMPORTED_MODULE_0__.number().int().min(0).optional(),\n    minScore: zod__WEBPACK_IMPORTED_MODULE_0__.number().int().min(1).max(10).optional(),\n    maxScore: zod__WEBPACK_IMPORTED_MODULE_0__.number().int().min(1).max(10).optional()\n});\n// Funcție de validare cu sanitizare\nfunction validateAndSanitize(schema, data) {\n    try {\n        const validatedData = schema.parse(data);\n        return {\n            success: true,\n            data: validatedData\n        };\n    } catch (error) {\n        if (error instanceof zod__WEBPACK_IMPORTED_MODULE_1__.ZodError) {\n            const errors = error.issues.map((err)=>`${err.path.join(\".\")}: ${err.message}`);\n            return {\n                success: false,\n                errors\n            };\n        }\n        return {\n            success: false,\n            errors: [\n                \"Validation failed\"\n            ]\n        };\n    }\n}\n// Funcție de sanitizare HTML\nfunction sanitizeHtml(input) {\n    return input.replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi, \"\").replace(/<iframe\\b[^<]*(?:(?!<\\/iframe>)<[^<]*)*<\\/iframe>/gi, \"\").replace(/<object\\b[^<]*(?:(?!<\\/object>)<[^<]*)*<\\/object>/gi, \"\").replace(/<embed\\b[^<]*(?:(?!<\\/embed>)<[^<]*)*<\\/embed>/gi, \"\").replace(/javascript:/gi, \"\").replace(/on\\w+\\s*=/gi, \"\");\n}\n// Funcție de validare UUID\nfunction isValidUUID(uuid) {\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\n    return uuidRegex.test(uuid);\n}\n// Funcție de validare email\nfunction isValidEmail(email) {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n}\n// Funcție de validare preț\nfunction isValidPrice(price) {\n    return Number.isInteger(price) && price >= 100 && price <= 100000;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0MsT0FBT0MsU0FBUyxDQUFDRixVQUFVQSxTQUFTLE9BQU9BLFNBQVM7QUFDN0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS1wcm9tcHQtdGVtcGxhdGVzLy4vbGliL3ZhbGlkYXRpb24udHM/NTBhYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB6IH0gZnJvbSAnem9kJ1xuXG4vLyBTY2hlbWEgZGUgYmF6xIMgcGVudHJ1IHByb21wdC11cmlcbmV4cG9ydCBjb25zdCBQcm9tcHRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHRpdGxlOiB6LnN0cmluZygpXG4gICAgLm1pbigxLCAnVGl0bGUgaXMgcmVxdWlyZWQnKVxuICAgIC5tYXgoMjAwLCAnVGl0bGUgbXVzdCBiZSBsZXNzIHRoYW4gMjAwIGNoYXJhY3RlcnMnKVxuICAgIC5yZWdleCgvXlthLXpBLVowLTlcXHNcXC1fLiwhPygpXSskLywgJ1RpdGxlIGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycycpLFxuICBcbiAgY29nbml0aXZlX2NhdGVnb3J5OiB6LmVudW0oW1xuICAgICdkZWVwX2FuYWx5c2lzJyxcbiAgICAnbWVhbmluZ19lbmdpbmVlcmluZycsIFxuICAgICdjb2duaXRpdmVfZnJhbWV3b3JrcycsXG4gICAgJ2NvbnNjaW91c25lc3NfbWFwcGluZycsXG4gICAgJ2FkdmFuY2VkX3N5c3RlbXMnXG4gIF0pLFxuICBcbiAgZGlmZmljdWx0eV90aWVyOiB6LmVudW0oW1xuICAgICdmb3VuZGF0aW9uJyxcbiAgICAnYWR2YW5jZWQnLFxuICAgICdleHBlcnQnLFxuICAgICdhcmNoaXRlY3QnXG4gIF0pLFxuICBcbiAgcHJldmlld19jb250ZW50OiB6LnN0cmluZygpXG4gICAgLm1pbigxMCwgJ1ByZXZpZXcgY29udGVudCBtdXN0IGJlIGF0IGxlYXN0IDEwIGNoYXJhY3RlcnMnKVxuICAgIC5tYXgoMTAwMCwgJ1ByZXZpZXcgY29udGVudCBtdXN0IGJlIGxlc3MgdGhhbiAxMDAwIGNoYXJhY3RlcnMnKVxuICAgIC5yZWZpbmUoY29udGVudCA9PiAhY29udGVudC5pbmNsdWRlcygnPHNjcmlwdCcpLCAnUHJldmlldyBjb250ZW50IGNvbnRhaW5zIGludmFsaWQgSFRNTCcpLFxuICBcbiAgZnVsbF9jb250ZW50OiB6LnN0cmluZygpXG4gICAgLm1pbig1MCwgJ0Z1bGwgY29udGVudCBtdXN0IGJlIGF0IGxlYXN0IDUwIGNoYXJhY3RlcnMnKVxuICAgIC5tYXgoNTAwMDAsICdGdWxsIGNvbnRlbnQgbXVzdCBiZSBsZXNzIHRoYW4gNTAwMDAgY2hhcmFjdGVycycpXG4gICAgLnJlZmluZShjb250ZW50ID0+ICFjb250ZW50LmluY2x1ZGVzKCc8c2NyaXB0JyksICdGdWxsIGNvbnRlbnQgY29udGFpbnMgaW52YWxpZCBIVE1MJyksXG4gIFxuICBjb2duaXRpdmVfZGVwdGhfc2NvcmU6IHoubnVtYmVyKClcbiAgICAuaW50KCdDb2duaXRpdmUgZGVwdGggc2NvcmUgbXVzdCBiZSBhbiBpbnRlZ2VyJylcbiAgICAubWluKDEsICdDb2duaXRpdmUgZGVwdGggc2NvcmUgbXVzdCBiZSBhdCBsZWFzdCAxJylcbiAgICAubWF4KDEwLCAnQ29nbml0aXZlIGRlcHRoIHNjb3JlIG11c3QgYmUgYXQgbW9zdCAxMCcpLFxuICBcbiAgcGF0dGVybl9jb21wbGV4aXR5OiB6Lm51bWJlcigpXG4gICAgLmludCgnUGF0dGVybiBjb21wbGV4aXR5IG11c3QgYmUgYW4gaW50ZWdlcicpXG4gICAgLm1pbigxLCAnUGF0dGVybiBjb21wbGV4aXR5IG11c3QgYmUgYXQgbGVhc3QgMScpXG4gICAgLm1heCg1LCAnUGF0dGVybiBjb21wbGV4aXR5IG11c3QgYmUgYXQgbW9zdCA1JyksXG4gIFxuICBiYXNlX3ByaWNlX2NlbnRzOiB6Lm51bWJlcigpXG4gICAgLmludCgnUHJpY2UgbXVzdCBiZSBhbiBpbnRlZ2VyJylcbiAgICAubWluKDEwMCwgJ1ByaWNlIG11c3QgYmUgYXQgbGVhc3QgMTAwIGNlbnRzICjigqwxKScpXG4gICAgLm1heCgxMDAwMDAsICdQcmljZSBtdXN0IGJlIGF0IG1vc3QgMTAwMDAwIGNlbnRzICjigqwxMDAwKScpLFxuICBcbiAgbWVhbmluZ19sYXllcnM6IHouYXJyYXkoei5zdHJpbmcoKSlcbiAgICAubWluKDEsICdBdCBsZWFzdCBvbmUgbWVhbmluZyBsYXllciBpcyByZXF1aXJlZCcpXG4gICAgLm1heCgxMCwgJ01heGltdW0gMTAgbWVhbmluZyBsYXllcnMgYWxsb3dlZCcpXG4gICAgLnJlZmluZShsYXllcnMgPT4gbGF5ZXJzLmV2ZXJ5KGxheWVyID0+IFxuICAgICAgbGF5ZXIubGVuZ3RoID49IDMgJiYgbGF5ZXIubGVuZ3RoIDw9IDUwMCAmJiAhbGF5ZXIuaW5jbHVkZXMoJzxzY3JpcHQnKVxuICAgICksICdNZWFuaW5nIGxheWVycyBjb250YWluIGludmFsaWQgY29udGVudCcpLFxuICBcbiAgYW50aV9zdXJmYWNlX2ZlYXR1cmVzOiB6LmFycmF5KHouc3RyaW5nKCkpXG4gICAgLm1pbigxLCAnQXQgbGVhc3Qgb25lIGFudGktc3VyZmFjZSBmZWF0dXJlIGlzIHJlcXVpcmVkJylcbiAgICAubWF4KDEwLCAnTWF4aW11bSAxMCBhbnRpLXN1cmZhY2UgZmVhdHVyZXMgYWxsb3dlZCcpXG4gICAgLnJlZmluZShmZWF0dXJlcyA9PiBmZWF0dXJlcy5ldmVyeShmZWF0dXJlID0+IFxuICAgICAgZmVhdHVyZS5sZW5ndGggPj0gMyAmJiBmZWF0dXJlLmxlbmd0aCA8PSA1MDAgJiYgIWZlYXR1cmUuaW5jbHVkZXMoJzxzY3JpcHQnKVxuICAgICksICdBbnRpLXN1cmZhY2UgZmVhdHVyZXMgY29udGFpbiBpbnZhbGlkIGNvbnRlbnQnKSxcbiAgXG4gIHJlcXVpcmVkX3RpZXI6IHouZW51bShbJ2ZyZWUnLCAnZXhwbG9yZXInLCAnYXJjaGl0ZWN0JywgJ2luaXRpYXRlJywgJ21hc3RlcicsICdlbGl0ZSddKVxuICAgIC5kZWZhdWx0KCdmcmVlJyksXG4gIFxuICBpc19wdWJsaXNoZWQ6IHouYm9vbGVhbigpLmRlZmF1bHQoZmFsc2UpLFxuICBcbiAgcXVhbGl0eV9zY29yZTogei5udW1iZXIoKVxuICAgIC5pbnQoJ1F1YWxpdHkgc2NvcmUgbXVzdCBiZSBhbiBpbnRlZ2VyJylcbiAgICAubWluKDEsICdRdWFsaXR5IHNjb3JlIG11c3QgYmUgYXQgbGVhc3QgMScpXG4gICAgLm1heCgxMCwgJ1F1YWxpdHkgc2NvcmUgbXVzdCBiZSBhdCBtb3N0IDEwJylcbiAgICAuZGVmYXVsdCg1KSxcbiAgXG4gIG1ldGFfdGFnczogei5hcnJheSh6LnN0cmluZygpKVxuICAgIC5tYXgoMjAsICdNYXhpbXVtIDIwIG1ldGEgdGFncyBhbGxvd2VkJylcbiAgICAuZGVmYXVsdChbXSksXG4gIFxuICBrZXl3b3Jkczogei5hcnJheSh6LnN0cmluZygpKVxuICAgIC5tYXgoNTAsICdNYXhpbXVtIDUwIGtleXdvcmRzIGFsbG93ZWQnKVxuICAgIC5kZWZhdWx0KFtdKVxufSlcblxuLy8gU2NoZW1hIHBlbnRydSBhY3R1YWxpesSDcmkgKHRvYXRlIGPDom1wdXJpbGUgb3DIm2lvbmFsZSlcbmV4cG9ydCBjb25zdCBQcm9tcHRVcGRhdGVTY2hlbWEgPSBQcm9tcHRTY2hlbWEucGFydGlhbCgpLmV4dGVuZCh7XG4gIGlkOiB6LnN0cmluZygpLnV1aWQoJ0ludmFsaWQgcHJvbXB0IElEIGZvcm1hdCcpLFxuICB1cGRhdGVkX2F0OiB6LnN0cmluZygpLmRhdGV0aW1lKCkub3B0aW9uYWwoKVxufSlcblxuLy8gU2NoZW1hIHBlbnRydSBhdXRlbnRpZmljYXJlXG5leHBvcnQgY29uc3QgQXV0aFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgZW1haWw6IHouc3RyaW5nKClcbiAgICAuZW1haWwoJ0ludmFsaWQgZW1haWwgZm9ybWF0JylcbiAgICAubWluKDUsICdFbWFpbCB0b28gc2hvcnQnKVxuICAgIC5tYXgoMjU0LCAnRW1haWwgdG9vIGxvbmcnKSxcbiAgXG4gIHBhc3N3b3JkOiB6LnN0cmluZygpXG4gICAgLm1pbig4LCAnUGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCA4IGNoYXJhY3RlcnMnKVxuICAgIC5tYXgoMTI4LCAnUGFzc3dvcmQgdG9vIGxvbmcnKVxuICAgIC5yZWdleCgvXig/PS4qW2Etel0pKD89LipbQS1aXSkoPz0uKlxcZCkvLCAnUGFzc3dvcmQgbXVzdCBjb250YWluIGxvd2VyY2FzZSwgdXBwZXJjYXNlIGFuZCBudW1iZXInKSxcbiAgXG4gIGFjdGlvbjogei5lbnVtKFsnc2lnbmluJywgJ3NpZ251cCddKVxufSlcblxuLy8gU2NoZW1hIHBlbnRydSBTdHJpcGUgY2hlY2tvdXRcbmV4cG9ydCBjb25zdCBTdHJpcGVDaGVja291dFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgdGllcjogei5lbnVtKFsnZnJlZScsICdleHBsb3JlcicsICdhcmNoaXRlY3QnLCAnaW5pdGlhdGUnLCAnbWFzdGVyJywgJ2VsaXRlJ10pLFxuICB1c2VySWQ6IHouc3RyaW5nKCkudXVpZCgnSW52YWxpZCB1c2VyIElEIGZvcm1hdCcpXG59KVxuXG4vLyBTY2hlbWEgcGVudHJ1IHNlYXJjaCDImWkgZmlsdHJhcmVcbmV4cG9ydCBjb25zdCBTZWFyY2hTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHNlYXJjaDogei5zdHJpbmcoKS5tYXgoMTAwLCAnU2VhcmNoIHF1ZXJ5IHRvbyBsb25nJykub3B0aW9uYWwoKSxcbiAgY2F0ZWdvcnk6IHouZW51bShbXG4gICAgJ2RlZXBfYW5hbHlzaXMnLFxuICAgICdtZWFuaW5nX2VuZ2luZWVyaW5nJyxcbiAgICAnY29nbml0aXZlX2ZyYW1ld29ya3MnLCBcbiAgICAnY29uc2Npb3VzbmVzc19tYXBwaW5nJyxcbiAgICAnYWR2YW5jZWRfc3lzdGVtcydcbiAgXSkub3B0aW9uYWwoKSxcbiAgdGllcjogei5lbnVtKFsnZnJlZScsICdleHBsb3JlcicsICdhcmNoaXRlY3QnLCAnaW5pdGlhdGUnLCAnbWFzdGVyJywgJ2VsaXRlJ10pLmRlZmF1bHQoJ2ZyZWUnKSxcbiAgZGlmZmljdWx0eTogei5lbnVtKFsnZm91bmRhdGlvbicsICdhZHZhbmNlZCcsICdleHBlcnQnLCAnYXJjaGl0ZWN0J10pLm9wdGlvbmFsKCksXG4gIG1pblByaWNlOiB6Lm51bWJlcigpLmludCgpLm1pbigwKS5vcHRpb25hbCgpLFxuICBtYXhQcmljZTogei5udW1iZXIoKS5pbnQoKS5taW4oMCkub3B0aW9uYWwoKSxcbiAgbWluU2NvcmU6IHoubnVtYmVyKCkuaW50KCkubWluKDEpLm1heCgxMCkub3B0aW9uYWwoKSxcbiAgbWF4U2NvcmU6IHoubnVtYmVyKCkuaW50KCkubWluKDEpLm1heCgxMCkub3B0aW9uYWwoKVxufSlcblxuLy8gRnVuY8ibaWUgZGUgdmFsaWRhcmUgY3Ugc2FuaXRpemFyZVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQW5kU2FuaXRpemU8VD4oXG4gIHNjaGVtYTogei5ab2RTY2hlbWE8VD4sXG4gIGRhdGE6IHVua25vd25cbik6IHsgc3VjY2VzczogdHJ1ZTsgZGF0YTogVCB9IHwgeyBzdWNjZXNzOiBmYWxzZTsgZXJyb3JzOiBzdHJpbmdbXSB9IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB2YWxpZGF0ZWREYXRhID0gc2NoZW1hLnBhcnNlKGRhdGEpXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdmFsaWRhdGVkRGF0YSB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2Ygei5ab2RFcnJvcikge1xuICAgICAgY29uc3QgZXJyb3JzID0gZXJyb3IuaXNzdWVzLm1hcChlcnIgPT4gXG4gICAgICAgIGAke2Vyci5wYXRoLmpvaW4oJy4nKX06ICR7ZXJyLm1lc3NhZ2V9YFxuICAgICAgKVxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9ycyB9XG4gICAgfVxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcnM6IFsnVmFsaWRhdGlvbiBmYWlsZWQnXSB9XG4gIH1cbn1cblxuLy8gRnVuY8ibaWUgZGUgc2FuaXRpemFyZSBIVE1MXG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemVIdG1sKGlucHV0OiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gaW5wdXRcbiAgICAucmVwbGFjZSgvPHNjcmlwdFxcYltePF0qKD86KD8hPFxcL3NjcmlwdD4pPFtePF0qKSo8XFwvc2NyaXB0Pi9naSwgJycpXG4gICAgLnJlcGxhY2UoLzxpZnJhbWVcXGJbXjxdKig/Oig/ITxcXC9pZnJhbWU+KTxbXjxdKikqPFxcL2lmcmFtZT4vZ2ksICcnKVxuICAgIC5yZXBsYWNlKC88b2JqZWN0XFxiW148XSooPzooPyE8XFwvb2JqZWN0Pik8W148XSopKjxcXC9vYmplY3Q+L2dpLCAnJylcbiAgICAucmVwbGFjZSgvPGVtYmVkXFxiW148XSooPzooPyE8XFwvZW1iZWQ+KTxbXjxdKikqPFxcL2VtYmVkPi9naSwgJycpXG4gICAgLnJlcGxhY2UoL2phdmFzY3JpcHQ6L2dpLCAnJylcbiAgICAucmVwbGFjZSgvb25cXHcrXFxzKj0vZ2ksICcnKVxufVxuXG4vLyBGdW5jyJtpZSBkZSB2YWxpZGFyZSBVVUlEXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZFVVSUQodXVpZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGNvbnN0IHV1aWRSZWdleCA9IC9eWzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtNV1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn0kL2lcbiAgcmV0dXJuIHV1aWRSZWdleC50ZXN0KHV1aWQpXG59XG5cbi8vIEZ1bmPIm2llIGRlIHZhbGlkYXJlIGVtYWlsXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZEVtYWlsKGVtYWlsOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgY29uc3QgZW1haWxSZWdleCA9IC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvXG4gIHJldHVybiBlbWFpbFJlZ2V4LnRlc3QoZW1haWwpXG59XG5cbi8vIEZ1bmPIm2llIGRlIHZhbGlkYXJlIHByZcibXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZFByaWNlKHByaWNlOiBudW1iZXIpOiBib29sZWFuIHtcbiAgcmV0dXJuIE51bWJlci5pc0ludGVnZXIocHJpY2UpICYmIHByaWNlID49IDEwMCAmJiBwcmljZSA8PSAxMDAwMDBcbn1cblxuLy8gRXhwb3J0IHRpcHVyaVxuZXhwb3J0IHR5cGUgUHJvbXB0ID0gei5pbmZlcjx0eXBlb2YgUHJvbXB0U2NoZW1hPlxuZXhwb3J0IHR5cGUgUHJvbXB0VXBkYXRlID0gei5pbmZlcjx0eXBlb2YgUHJvbXB0VXBkYXRlU2NoZW1hPlxuZXhwb3J0IHR5cGUgQXV0aERhdGEgPSB6LmluZmVyPHR5cGVvZiBBdXRoU2NoZW1hPlxuZXhwb3J0IHR5cGUgU3RyaXBlQ2hlY2tvdXREYXRhID0gei5pbmZlcjx0eXBlb2YgU3RyaXBlQ2hlY2tvdXRTY2hlbWE+XG5leHBvcnQgdHlwZSBTZWFyY2hEYXRhID0gei5pbmZlcjx0eXBlb2YgU2VhcmNoU2NoZW1hPlxuIl0sIm5hbWVzIjpbInoiLCJQcm9tcHRTY2hlbWEiLCJvYmplY3QiLCJ0aXRsZSIsInN0cmluZyIsIm1pbiIsIm1heCIsInJlZ2V4IiwiY29nbml0aXZlX2NhdGVnb3J5IiwiZW51bSIsImRpZmZpY3VsdHlfdGllciIsInByZXZpZXdfY29udGVudCIsInJlZmluZSIsImNvbnRlbnQiLCJpbmNsdWRlcyIsImZ1bGxfY29udGVudCIsImNvZ25pdGl2ZV9kZXB0aF9zY29yZSIsIm51bWJlciIsImludCIsInBhdHRlcm5fY29tcGxleGl0eSIsImJhc2VfcHJpY2VfY2VudHMiLCJtZWFuaW5nX2xheWVycyIsImFycmF5IiwibGF5ZXJzIiwiZXZlcnkiLCJsYXllciIsImxlbmd0aCIsImFudGlfc3VyZmFjZV9mZWF0dXJlcyIsImZlYXR1cmVzIiwiZmVhdHVyZSIsInJlcXVpcmVkX3RpZXIiLCJkZWZhdWx0IiwiaXNfcHVibGlzaGVkIiwiYm9vbGVhbiIsInF1YWxpdHlfc2NvcmUiLCJtZXRhX3RhZ3MiLCJrZXl3b3JkcyIsIlByb21wdFVwZGF0ZVNjaGVtYSIsInBhcnRpYWwiLCJleHRlbmQiLCJpZCIsInV1aWQiLCJ1cGRhdGVkX2F0IiwiZGF0ZXRpbWUiLCJvcHRpb25hbCIsIkF1dGhTY2hlbWEiLCJlbWFpbCIsInBhc3N3b3JkIiwiYWN0aW9uIiwiU3RyaXBlQ2hlY2tvdXRTY2hlbWEiLCJ0aWVyIiwidXNlcklkIiwiU2VhcmNoU2NoZW1hIiwic2VhcmNoIiwiY2F0ZWdvcnkiLCJkaWZmaWN1bHR5IiwibWluUHJpY2UiLCJtYXhQcmljZSIsIm1pblNjb3JlIiwibWF4U2NvcmUiLCJ2YWxpZGF0ZUFuZFNhbml0aXplIiwic2NoZW1hIiwiZGF0YSIsInZhbGlkYXRlZERhdGEiLCJwYXJzZSIsInN1Y2Nlc3MiLCJlcnJvciIsIlpvZEVycm9yIiwiZXJyb3JzIiwiaXNzdWVzIiwibWFwIiwiZXJyIiwicGF0aCIsImpvaW4iLCJtZXNzYWdlIiwic2FuaXRpemVIdG1sIiwiaW5wdXQiLCJyZXBsYWNlIiwiaXNWYWxpZFVVSUQiLCJ1dWlkUmVnZXgiLCJ0ZXN0IiwiaXNWYWxpZEVtYWlsIiwiZW1haWxSZWdleCIsImlzVmFsaWRQcmljZSIsInByaWNlIiwiTnVtYmVyIiwiaXNJbnRlZ2VyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/validation.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/zod"], () => (__webpack_exec__("(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprompts%2Froute&page=%2Fapi%2Fprompts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprompts%2Froute.ts&appDir=%2FUsers%2Fvadimcusnir%2FGitRepo%2Fai-prompt-templates%2Fpackages%2Fai-prompt-templates%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fvadimcusnir%2FGitRepo%2Fai-prompt-templates%2Fpackages%2Fai-prompt-templates&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();